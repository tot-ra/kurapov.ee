<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Ruses | Artjom Kurapov blog</title>
<meta name="keywords" content="">
<meta name="description" content="Ruses - Artjom Kurapov blog">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/rus/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/rus/index.xml">
<link rel="alternate" hreflang="en" href="http://localhost:1313/rus/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Artjom Kurapov blog (Alt + H)">Artjom Kurapov blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/rus/gaming/" title="Игры">
                    <span>Игры</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/rus/movies/" title="Кино">
                    <span>Кино</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/rus/about/%D0%BE%D0%B1-%D0%B0%D0%B2%D1%82%D0%BE%D1%80%D0%B5/" title="Об авторе">
                    <span>Об авторе</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/rus/tech/" title="Технологии">
                    <span>Технологии</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header">
  <h1>
    Ruses
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>пятница, 12 октября 2007 г. в 18:48:49
Система привилегий или прав всегда и везде неразрывно связана с системой и пользователями и направлена на поддержания порядка и постоянства данных. В многопользовательских инфосистемах наличие привилегий становится необходимым, когда ставятся под вопрос доверие и безопасность системы, либо хочется разграничить специализацию работников для повышения эффективности.
Права в сложных системах могут включать такие понятия:
Пользователи (Вася, Петя) Рефлексивность пользователя - он может сам себя удалить/заблокировать? Вес=Карма=Рейтинг пользователя и автоматическая зависимость от этого его принадлежности группе или роли Ресурсы и содержание (Картинки, Статьи, Списки), доступ к которым должен быть как-то ограничен Транзактивность - если пользователь начал изменять ресурс, то только он может продолжить ну а если не продолжил то всё останется как было (commit/rollback) Права (Actions=Rights=Permissions) - элементарные действия пользователя над ресурсами, как правила по принципу CRUD (изменять/удалять/добавлять), но могут быть и особые (делегировать, отобрать, подтвердить, пригласить) Доступ (Realm) - способ аутидентификации и политики прав для конкретных групп и пользователей (login-password, сертификат, биометрические данные, IP подсеть) Группы пользователей нужны что-бы быстро придать пользователю заготовленные привилегии. Например полицейские, депутаты, военные выделяются в обществе своими возможностями Отдел (Department) - часть компании/организации, часто соответсвует группам пользователей Роли (Roles) пользователей - часто путается с группами. На самом деле это синоним сгруппированных прав, по принципу ответственности одного человека в своём отделе. Например, детектив в полиции, медик в военном отряде, спикер в парламенте Иерархичность и наследование - если группы или ресурсы имеют иерархичную структуру, то права могут распространяться на нижние слои. Например наследование в монархии, наследование имущества, прав в файловой системе. Наследование может выделено как отдельное право (assign) Юридическая ответственность за те или иные ресурсы (claimer / disclaimer) Чёрный и белый список Если рассматривать права в очень общем смысле, то к примеру в государстве права регулируются по принципу разрешено всё что не запрещено, при этом все запреты оформились в законодательные (уголовные, административные и проч) акты.
...</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to " href="http://localhost:1313/rus/lab/%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0-%D0%BF%D1%80%D0%B0%D0%B2-%D0%B2-%D0%B8%D0%BD%D1%84%D0%BE%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0%D1%85/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>пятница, 19 сентября 2008 г. в 18:11:25
Создание компьютерной игры похоже на написание книги — в общем случае надо не только много знать из разных областей, но и уметь подходить к процессу творчески. В художественной литературе писатель может работать только со словом, а в компьютерной игре автор работает с мультимедийным множеством звука, видео, интерактивности и нелинейности.
Универсальная игра сочетает в себе три качества — история, творчество, соревнование. Сочетания этих качеств приводят к опыту — воображения, навыка и драмы.
...</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to " href="http://localhost:1313/rus/lab/%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BA%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80%D0%BD%D0%BE%D0%B9-%D0%B8%D0%B3%D1%80%D1%8B/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>среда, 13 декабря 2006 г. в 14:07:01
CMS matrix и отечественный CMSlist предлагают огромные списки доступных opensource систем управления сайтами. Многие из них имеют множество недостатков, такие как
Монстроидальность и неверное useability. 80% функций для неискушённого пользователя наврядли будут использоваться. А из оставшихся 20% сразу он поймёт как работает 1%. Устаревший код и архитектура со времён PHP4, необходимость версионной поддержки Медленная скорость загрузки из-за подгрузки неиспользуемых объектов и модулей Чёткая полоса возможностей системы, ограничивающая как что должно работать, либо наоборот - её отсутсвие служит и дорогой и препятствием, особенно для новичков Всё это заставляет программистов писать свою систему с нуля. Я постараюсь тут описать некоторые теоретические основы для этих начинаний и как итог - к чему они все приходят.
...</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to " href="http://localhost:1313/rus/lab/%D1%82%D0%B5%D0%BE%D1%80%D0%B5%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D1%8B-cms.-%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D0%B8%D0%B5-%D0%BA-%D0%BD%D0%B0%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D1%8E/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>среда, 22 декабря 2010 г. в 12:34:07
Это вольный перевод и дополнения статьи Ricky Ho на англицком об алгоритмах используемых в масштабировании систем и распределённом вычислении. Обратите внимание что эти модели применимы не только в программировании, но и в управлении.
Балансировщик нагрузки В этой простейшей модели центральный узел (балансировщик) определяет которая машина будет обрабатывать запрос в зависимости от показателей свободных ресурсов. Приложение в такой архитектуре не может иметь внутреннего состояния дабы любой работник мог исполнить запрос.
...</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to " href="http://localhost:1313/rus/lab/%D1%83%D0%B7%D0%BE%D1%80%D1%8B-%D0%B2-%D0%BC%D0%B0%D1%81%D1%88%D1%82%D0%B0%D0%B1%D0%B8%D1%80%D1%83%D0%B5%D0%BC%D1%8B%D1%85-%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0%D1%85/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>четверг, 10 марта 2011 г. в 15:03:18
Продолжаем изучать среду разработки PHPStorm. На этот раз поговорим о задачах. В общем идея в том, что при разработке проекта управляющие в вашейкомпании где-то создают список того что надо сделать или исправить — это всякие инструменты типа Jira, Mantis, Redmine.. Каждая со своими особенностями в том какзадачи описываются и дальше текут в компании.
PivotalTracker — один из таких инструментов, созданный специально для любителей scrum, соответсвенно он оперирует кучками задач (backlog, icebox и тд.). Но суть не в этом..
...</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to " href="http://localhost:1313/rus/lab/%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-pivotaltracker-%D0%B7%D0%B0%D0%B4%D0%B0%D1%87%D0%B0%D0%BC%D0%B8-%D0%B2-phpstorm/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>пятница, 3 ноября 2017 г. в 18:17:09
Команды программистов из 3-7 человек это идеальная машина по быстрому созданию качественного продукта. Слишком много - и все погрязнут в бесконечных обсуждениях, слишком мало - будет сбиваться ритм и снижаться продуктивность и качество.
Я мало что понимаю в менеджменте, поэтому меня больше интересуют вопросы конфликтов и улучшение инспекции кода для улучшения продукта и сплочения команды.
Code review, pull request review и peer review это практически одно и то же, различие лишь в фокусе внимания - на систематичность просмотра существующего кода, на принятие чужого кода или на массовость читателей. Я буду использовать термин ревью как процесса и инспектора для принимающей стороны.
...</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to " href="http://localhost:1313/rus/philosophy/code-review-%D0%B8-%D0%BA%D0%BE%D0%BD%D1%84%D0%BB%D0%B8%D0%BA%D1%82-%D0%B2-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D0%BA%D0%B5-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>суббота, 27 апреля 2013 г. в 11:47:03
Когда-то в далёком 2008 году я писал про местные IT компании.
Если вы не следите пристально за IT и Эстонией то врядли вы заметили бы хэштег #estonianmafia упоминающийся даже президентом именно в этом контексте - бурного развития местных стартапов, многие из которых уже давно выплеснулись за пределы Эстонии просто потому что рынок тут маленький, а потенциал у производства высокий. Многие из них уже были перепроданы. Поэтому говорить о Skype как о стартапе уже некорректно (что я выступающим работникам на девклубе упоминал) - фаза неопределённости давно в прошлом, пузико давно отъелось на захваченном рынке VoIP (продан в 2005 г. в Ebay, а в 2011г. Microsoft) хотя Sten Tamkivi можно причислить к IT-мафии. В то же время есть стартапы которые вроде как инновативны, но не развиваются так бурно (будь то из-за отсутствия венчурного финансирования, маркетинга или др. факторов).
...</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to " href="http://localhost:1313/rus/philosophy/estonian-mafia/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>пятница, 13 июля 2012 г. в 11:51:30
Как работник, я часто ходил на собеседования и поэтому решил составить такой небольшой check-list для себя, но может пригодиться как работникам так и работодателям. Справа оставил место для заметок на случай если вы распечатаете. Отсортировано согласно логичному течению интервью
Компания, команда и проект Интервью - длительность и число - Участвующие лица- Будет ли проверяться код (тестовое задание) Размер, структура - Плоская? Как люди специализируются- Иерархичная? Какие проблемы с общением разных слоёв История, миссия, проекты, roadmap - Почему нанимаете? Расширяетесь или уволили?- Нет ли планов с переездом? Единственный офис? С кем надо будет работать, какой размер комманды - По каким критериям выбираются работники? Что ценится- Сколько времени люди уже работают в компании?- Что делали в последнее время Тема проекта, критерии в выбора клиентов Критичность, объём данных Технологии основной язык - версия - фреймворки, пример кода продукта, есть ли вклад в opensource- есть ли стандарт кода (PSR-0/1/2)? как справляются с зависимостями, composer? frontend - какой тяжести js фреймворки используются (jquery/backbone/extjs?)- кто верстает? версионирование - GIT? SVN? почему- ветки, сколько девелоперов над репозиторем база данных - реляционная? можно ли автомаатически нарисовать диаграмму?- кластер? как масштабируется - есть история миграций / дельта скриптов? - есть ли код с транзакциями, что он блокирует? тестирование - выделяется ли отдельная роль или все разработчики тестируют?- какое отношение к багам перед написанием кода?- какие типы тестов есть (юнит, интеграционные, системные, запланированные ручные) - как тестируется безопасность, нагрузка, usability? - на чём они написаны (phpunit, selenium)? сборка - менеджер зависимостей (composer)?- используются ли метрики для оценки качества? - как часто происходит? continuous integration, travis, jenkins, ant? деплоймент - сколько environment’ов, откуда куда что передаётся, разные ли БД?- какие виртуальные машины используются, кому какой есть доступ? vagrant, docker?- какие веб-серверы, какие вспомогательные? (apache, nginx, solr, sphinx, varnish) Рабочий процесс Кто и как оценивает и планирует задачи / пишет техническое задание?- Есть ли роль аналитиков?- Как хранятся требования, как справляются с конфликтами Сколько одновременных проектов и начальников у разработчика? Как справляются с багами, issue tracker, цикл статусов у задач Доступные лицензии на софт, ОС, IDE Политика получения нового софта, планированного бэкапа, ограничений сети Можно ли работать удалённо? - Сколько людей так делают?- Как они совмещают коммандную работу? Групповой видеочат? Есть ли отчётность задач по времени? - Какой софт используется Какие типы встреч бывают? В какое время дня? - Daily scrum meeting?- Weekly staff meeting? Делятся ли финансовыми показателями?- Project planning? Какие роли участвуют Рабочее место Переговорки, доски, мониторы (с графиками, CI), кухня, кофе, плюшки Кресло, стол, вид из окна, место в комнате Отопление, освещение, шум, форма и расположение столов, стулья Машина - лаптоп или стационарный (влияет на обмен знаниями, собеседованиями и тп) Рабочая культура Как делятся знаниями, есть ли корпоративный чат? Skype, slack, hipchat Как относятся к еде за рабочим местом, шумной музыке, разговорам по телефону, мату, курению Какие отмечают события, праздники, ДР, получения новых проектов Есть ли внутренние кружки по спорту, игровым сессиям перемешивание людей по проектами, офисам Обучение Есть ли план развития программиста, степени, трекинг, google docs? Ставятся ли цели для человека и комманды? Зависит ли от этого зарплата? Как люди относятся к помощи, есть ли менторская программа Есть ли code review, обучение практикам. Как часто? Только разработчики / QA? Techtalks (презентация новых технологий, запущенные проекты..) Workshop’ы (практическая цель) Книги, обязательность чтения? Деньги и договор Зарплаты, бонусы Отпуски, корпоративы Особенности контракта, испытательный срок, может ли быть дополнение по требованию нового клиента? Ограничения конфиденциальности, неконкурентности Итоговая оценка Денежная мотивация Удобство рабочего места и процесса Технологический потенциал к обучению Человеческий/коммандный потенциал Потери времени на транспорт </p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to " href="http://localhost:1313/rus/philosophy/hiring/%D1%81%D0%BE%D0%B1%D0%B5%D1%81%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-php-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0---%D1%82%D0%B5%D0%BC%D1%8B-%D0%B4%D0%BB%D1%8F-%D0%BE%D0%B1%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>вторник, 18 сентября 2018 г. в 22:14:41
Процесс найма разработчиков различен и на моём пути я был как на стороне кандидата со своей системой вопросов, получал свою уйму лулзов, так и на стороне интервьюера. Поскольку встреч с кандидатом в больших компаниях несколько, то мне удалось принимать интервью на фазе технической оценки. Постараюсь тут кратко описать итоги.
Цели Для компании смысл технического интервью - оценка кандидата. В это входит:
Оценка горизонтальных архитектурных познаний. Насколько богатый спектр технологий и процессов разработки использовал или хотя-бы знает человек. Как он может связать их между собой. Какие решения для одной и той же проблемы он может предложить.
...</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to " href="http://localhost:1313/rus/philosophy/hiring/%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D1%8C%D1%8E-%D0%BA%D0%B0%D0%BA-%D0%BD%D0%B5%D0%B9%D1%80%D0%BE%D0%BD/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">
    </h2>
  </header>
  <div class="entry-content">
    <p>понедельник, 21 мая 2007 г. в 22:09:37
Многие наверняка слышали про Rational Unified Process. Вообще методик по управлению “ресурсами” человеко-часов уйма и принятие одной из них в свою фирму может дать не только бумажку, но и неэффективность всвязи с тем что такая методика не подходит для области деятельности фирмы.
OpenUP - бесплатная методика ( тогда как некоторые более 700$ стоят) и ориентирована на развитие небольших проектов в небольших фирмах (до 36 человеко-месяцев). Вполне подходит для IT, поскольку текучка кадров большая, а проекты стоять не хотят.
...</p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to " href="http://localhost:1313/rus/philosophy/openup/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/rus/page/3/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="http://localhost:1313/rus/page/5/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/">Artjom Kurapov blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
