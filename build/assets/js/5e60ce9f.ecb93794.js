"use strict";(self.webpackChunkkurapov_ee=self.webpackChunkkurapov_ee||[]).push([["2355"],{68952:function(e,n,r){r.r(n),r.d(n,{assets:function(){return d},contentTitle:function(){return t},default:function(){return a},frontMatter:function(){return i},metadata:function(){return s},toc:function(){return l}});var s=r(35031),c=r(52676),o=r(22771);let i={title:"\u041C\u0438\u043A\u0440\u043E\u0441\u0435\u0440\u0432\u0438\u0441\u044B 2",date:"2017-07-06T10:00",tags:["backend"]},t=void 0,d={authorsImageUrls:[]},l=[{value:"Docker",id:"docker",level:3},{value:"\u041A\u043E\u043D\u0446\u0435\u043F\u0446\u0438\u0438",id:"\u043A\u043E\u043D\u0446\u0435\u043F\u0446\u0438\u0438",level:4},{value:"Consul",id:"consul",level:3},{value:"\u0421\u043B\u043E\u0436\u043D\u043E\u0441\u0442\u0438",id:"\u0441\u043B\u043E\u0436\u043D\u043E\u0441\u0442\u0438",level:3},{value:"Node",id:"node",level:3},{value:"Redis",id:"redis",level:3},{value:"Alias",id:"alias",level:3}];function h(e){let n={a:"a",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(n.p,{children:["\u0412 \u043F\u0440\u043E\u0448\u043B\u043E\u0439 \u0441\u0442\u0430\u0442\u044C\u0435 \u044F \u043D\u0430\u0447\u0430\u043B \u0438\u0437\u0443\u0447\u0430\u0442\u044C \u043C\u0438\u043A\u0440\u043E\u0441\u0435\u0440\u0432\u0438\u0441\u043D\u044B\u0439 \u043F\u043E\u0434\u0445\u043E\u0434, \u043D\u043E \u0434\u043E \u043F\u043E\u043B\u043D\u043E\u0446\u0435\u043D\u043D\u043E\u0433\u043E \u0440\u0435\u0448\u0435\u043D\u0438\u044F \u0442\u043E\u0433\u0434\u0430 \u043D\u0435 \u0434\u043E\u0448\u0451\u043B. \u0422\u043E\u0433\u0434\u0430 \u044F \u043F\u0440\u043E\u0431\u043E\u0432\u0430\u043B \u0441\u0430\u043C \u043F\u043E\u0434\u043D\u0438\u043C\u0430\u0442\u044C \u043F\u0440\u043E\u0446\u0435\u0441\u0441\u044B \u043D\u0430 php, \u0443\u043F\u0440\u0430\u0432\u043B\u044F\u0442\u044C \u0438\u043C\u0438, \u0441\u0432\u044F\u0437\u044B\u0432\u0430\u0442\u044C \u043C\u0435\u0436\u0434\u0443 \u0441\u043E\u0431\u043E\u0439 \u0447\u0435\u0440\u0435\u0437 \u043E\u0447\u0435\u0440\u0435\u0434\u0438 \u043F\u043E\u0442\u043E\u043C\u0443 \u0447\u0442\u043E \u043C\u043E\u043D\u043E\u043B\u0438\u0442 \u043D\u0435 \u043C\u043E\u0433 \u0441\u043F\u0440\u0430\u0432\u0438\u0442\u044C\u0441\u044F \u0441 \u0430\u0441\u0438\u043D\u0445\u0440\u043E\u043D\u043D\u044B\u043C\u0438 \u0437\u0430\u0434\u0430\u0447\u0430\u043C\u0438.\xa0\u041D\u043E \u0447\u0435\u0433\u043E \u0443 \u043C\u0435\u043D\u044F \u0440\u0435\u0430\u043B\u044C\u043D\u043E \u043D\u0435\u0445\u0432\u0430\u0442\u0430\u043B\u043E, \u0442\u0430\u043A \u044D\u0442\u043E\xa0",(0,c.jsx)(n.strong,{children:"\u043D\u043E\u0440\u043C\u0430\u043B\u044C\u043D\u043E\u0439 \u0438\u0437\u043E\u043B\u044F\u0446\u0438\u0438 \u0438 \u0434\u0435\u043F\u043B\u043E\u0439\u043C\u0435\u043D\u0442\u0430, \u043C\u0435\u0436\u0441\u0435\u0440\u0432\u0438\u0441\u043D\u043E\u0433\u043E \u0432\u0437\u0430\u0438\u043C\u043E\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F \u0438 \u0441\u0442\u0430\u0431\u0438\u043B\u044C\u043D\u043E\u0439 \u0440\u0430\u0431\u043E\u0442\u044B"}),"."]}),"\n",(0,c.jsx)(n.h3,{id:"docker",children:"Docker"}),"\n",(0,c.jsx)(n.p,{children:"\u042F \u0441\u0440\u0430\u0437\u0443 \u0441\u043A\u0430\u0436\u0443 \u0447\u0442\u043E \u043D\u0435 \u0437\u043D\u0430\u044E \u043A\u0430\u043A \u043D\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044C production \u0441 \u0434\u043E\u043A\u0435\u0440-\u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u0430\u043C\u0438, \u043D\u043E \u0441\u0435\u0440\u0432\u0438\u0441\u044B \u0432 \u0440\u0430\u0431\u043E\u0447\u0435\u043C \u043E\u043A\u0440\u0443\u0436\u0435\u043D\u0438\u0438 \u043F\u043E\u0434\u043D\u0438\u043C\u0430\u044E\u0442\u0441\u044F \u0442\u0440\u0438\u0432\u0438\u0430\u043B\u044C\u043D\u043E"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["\u0421\u0442\u0430\u0432\u0438\u0442\u0435\xa0",(0,c.jsx)(n.a,{href:"https://www.docker.com/products/docker-toolbox",children:"Docker \u0434\u043B\u044F \u041C\u0430\u043A\u0430 \u0438\u043B\u0438 \u0434\u043B\u044F Windows"})]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsxs)(n.p,{children:["\u0421\u0442\u0430\u0432\u0438\u0442\u0435\xa0",(0,c.jsx)(n.a,{href:"https://github.com/moncho/dry",children:"dry"}),"\xa0\u0434\u043B\u044F \u0442\u0435\u0440\u043C\u0438\u043D\u0430\u043B\u0430 (\u043F\u043E \u0436\u0435\u043B\u0430\u043D\u0438\u044E)"]}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u0421\u043E\u0437\u0434\u0430\u0451\u0442\u0435 Dockerfile"}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u0421\u043E\u0437\u0434\u0430\u0451\u0442\u0435 docker-compose.yml"}),"\n"]}),"\n",(0,c.jsxs)(n.li,{children:["\n",(0,c.jsx)(n.p,{children:"\u0417\u0430\u043F\u0443\u0441\u043A\u0430\u0435\u0442\u0435 docker-compose up"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(n.h4,{id:"\u043A\u043E\u043D\u0446\u0435\u043F\u0446\u0438\u0438",children:"\u041A\u043E\u043D\u0446\u0435\u043F\u0446\u0438\u0438"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Images (\u043E\u0431\u0440\u0430\u0437\u044B)"}),"\xa0\u044D\u0442\u043E \u0438\u0437\u043E\u043B\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u0430\u044F \u0441\u0440\u0435\u0434\u0430, \u043A\u0430\u043A \u043F\u0440\u0430\u0432\u0438\u043B\u043E \u0441 \u043A\u043E\u043D\u043A\u0440\u0435\u0442\u043D\u044B\u043C \u044F\u0437\u044B\u043A\u043E\u043C (node, php) \u0438\u043B\u0438 \u0431\u0438\u0431\u043B\u0438\u043E\u0442\u0435\u043A\u043E\u0439. \u0417\u0430 \u044D\u0442\u043E \u043E\u0442\u0432\u0435\u0447\u0430\u0435\u0442\xa0",(0,c.jsx)(n.a,{href:"https://docs.docker.com/engine/reference/builder/",children:"Dockerfile"}),", \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u0441\u0441\u044B\u043B\u0430\u0435\u0442\u0441\u044F \u043D\u0430 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439, \u0441\u043A\u0430\u0447\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043E\u0431\u0440\u0430\u0437 \u043D\u0430 \u0434\u043E\u043A\u0435\u0440 \u0445\u0430\u0431\u0435."]}),"\n",(0,c.jsxs)(n.p,{children:["\u0427\u0442\u043E-\u0431\u044B \u0443\u0432\u0438\u0434\u0435\u0442\u044C \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044B\u0435 \u043E\u0431\u0440\u0430\u0437\u044B, \u0435\u0441\u0442\u044C \u043A\u043E\u043C\u043C\u0430\u043D\u0434\u0430\xa0\xa0",(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.strong,{children:"docker images"})}),"\xa0.\xa0"]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.strong,{children:"\u041A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u044B"})}),"\xa0\xa0\u044D\u0442\u043E \u0437\u0430\u043F\u0443\u0449\u0435\u043D\u043D\u044B\u0435 \u043E\u0431\u0440\u0430\u0437\u044B \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0438\u0437\u043E\u043B\u0438\u0440\u043E\u0432\u0430\u043D\u044B \u043E\u0442 host-\u043C\u0430\u0448\u0438\u043D\u044B. \u041E\u0431\u044B\u0447\u043D\u043E \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440 \u043F\u043E\u0434\u043D\u0438\u043C\u0430\u0435\u0442\u0441\u044F \u0434\u043B\u044F \u043A\u0430\u043A\u043E\u0433\u043E-\u0442\u043E \u0441\u0435\u0440\u0432\u0438\u0441\u0430, \u043F\u043E\u044D\u0442\u043E\u043C\u0443 \u0443 \u043D\u0435\u0433\u043E \u0435\u0441\u0442\u044C \u0441\u0432\u043E\u0451 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435, \u044F\u0432\u043D\u043E \u043E\u0431\u044A\u044F\u0432\u043B\u0435\u043D \u043C\u0430\u043F\u043F\u0438\u043D\u0433 \u0441\u0435\u0442\u0435\u0432\u044B\u0445 \u043F\u043E\u0440\u0442\u043E\u0432 \u043D\u0430 host-\u043C\u0430\u0448\u0438\u043D\u0443 \u0438 \u0441\u043F\u043E\u0441\u043E\u0431 \u043C\u043E\u043D\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u0444\u0430\u0439\u043B\u043E\u0432\u043E\u0439 \u0441\u0438\u0441\u0442\u0435\u043C\u044B - \xa0\u0437\u0430\xa0\u044D\u0442\u043E \u043E\u0442\u0432\u0435\u0447\u0430\u0435\u0442 docker-compose.yml"]}),"\n",(0,c.jsxs)(n.p,{children:["\u0427\u0442\u043E-\u0431\u044B \u0443\u0432\u0438\u0434\u0435\u0442\u044C \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043D\u044B\u0435 \u043E\u0431\u0440\u0430\u0437\u044B, \u0435\u0441\u0442\u044C \u043A\u043E\u043C\u043C\u0430\u043D\u0434\u0430\xa0\xa0",(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.strong,{children:"docker images"})}),"\xa0.\xa0"]}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.strong,{children:"\u041A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u044B"})}),"\xa0\xa0\u044D\u0442\u043E \u0437\u0430\u043F\u0443\u0449\u0435\u043D\u043D\u044B\u0435 \u043E\u0431\u0440\u0430\u0437\u044B \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0438\u0437\u043E\u043B\u0438\u0440\u043E\u0432\u0430\u043D\u044B \u043E\u0442 host-\u043C\u0430\u0448\u0438\u043D\u044B. \u041E\u0431\u044B\u0447\u043D\u043E \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440 \u043F\u043E\u0434\u043D\u0438\u043C\u0430\u0435\u0442\u0441\u044F \u0434\u043B\u044F \u043A\u0430\u043A\u043E\u0433\u043E-\u0442\u043E \u0441\u0435\u0440\u0432\u0438\u0441\u0430, \u043F\u043E\u044D\u0442\u043E\u043C\u0443 \u0443 \u043D\u0435\u0433\u043E \u0435\u0441\u0442\u044C \u0441\u0432\u043E\u0451 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435, \u044F\u0432\u043D\u043E \u043E\u0431\u044A\u044F\u0432\u043B\u0435\u043D \u043C\u0430\u043F\u043F\u0438\u043D\u0433 \u0441\u0435\u0442\u0435\u0432\u044B\u0445 \u043F\u043E\u0440\u0442\u043E\u0432 \u043D\u0430 host-\u043C\u0430\u0448\u0438\u043D\u0443 \u0438 \u0441\u043F\u043E\u0441\u043E\u0431 \u043C\u043E\u043D\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u0444\u0430\u0439\u043B\u043E\u0432\u043E\u0439 \u0441\u0438\u0441\u0442\u0435\u043C\u044B - \xa0\u0437\u0430\xa0\u044D\u0442\u043E \u043E\u0442\u0432\u0435\u0447\u0430\u0435\u0442 docker-compose.yml"]}),"\n",(0,c.jsxs)(n.p,{children:["\u041F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E \u043F\u043E\u0440\u0442\xa0\xa0",(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.strong,{children:"\u043D\u0435 \u043F\u0435\u0440\u0435\u0431\u0440\u0430\u0441\u044B\u0432\u0430\u044E\u0442\u0441\u044F \u043D\u0430 \u0442\u0430\u043A\u043E\u0439 \u0436\u0435"})}),"\xa0, \u0430 \u0444\u0430\u0439\u043B\u044B \u0445\u043E\u0441\u0442\u0430 \u043D\u0435 \u043B\u0438\u043D\u043A\u0443\u044E\u0442\u0441\u044F \u0438\xa0\xa0",(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.strong,{children:"\u043D\u0435 \u0431\u0443\u0434\u0443\u0442 \u043E\u0431\u043D\u043E\u0432\u043B\u044F\u0442\u044C\u0441\u044F \u0432\u043D\u0443\u0442\u0440\u0438 \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u0430"})}),"\xa0\xa0\u043F\u043E\u0441\u043B\u0435 \u0441\u0442\u0430\u0440\u0442\u0430."]}),"\n",(0,c.jsxs)(n.p,{children:["\u0427\u0442\u043E-\u0431\u044B \u0443\u0432\u0438\u0434\u0435\u0442\u044C \u0437\u0430\u043F\u0443\u0449\u0435\u043D\u043D\u044B\u0435 \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u044B, \u0435\u0441\u0442\u044C \u043A\u043E\u043C\u043C\u0430\u043D\u0434\u0430\xa0\xa0",(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.strong,{children:"docker ps"})}),"\xa0\xa0(\u0430 \u043B\u0443\u0447\u0448\u0435 dry)"]}),"\n",(0,c.jsxs)(n.p,{children:["\u0427\u0442\u043E-\u0431\u044B \u0437\u0430\u043F\u0443\u0441\u0442\u0438\u0442\u044C \u0442\u0435\u043A\u0443\u0449\u0443\u044E \u043F\u0430\u043F\u043A\u0443 \u0435\u0441\u0442\u044C\xa0\xa0",(0,c.jsx)(n.strong,{children:(0,c.jsx)(n.strong,{children:"docker-compose down && docker-compose up"})}),"\xa0\xa0\u2014 \u044D\u0442\u043E \u043E\u0441\u043D\u043E\u0432\u043D\u0430\u044F \u043A\u043E\u043C\u043C\u0430\u043D\u0434\u0430 \u043A\u043E\u0442\u043E\u0440\u043E\u0439 \u0432\u044B \u0431\u0443\u0434\u0435\u0442\u0435 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C\u0441\u044F \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043E\u0442\u043A\u0435 \u0435\u0441\u043B\u0438 \u0431\u0443\u0434\u0435\u0442\u0435 \u0434\u0435\u043B\u0430\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F"]}),"\n",(0,c.jsxs)(n.p,{children:["\u0414\u043B\u044F \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u0438 \u043F\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u0430 \u043F\u0440\u0438 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0438 \u0444\u0430\u0439\u043B\u043E\u0432 \u043D\u0430 host\u0435, \u0434\u043B\u044F node \u043D\u0430\u0434\u043E \u043A\u043E\u043F\u0430\u0442\u044C \u0432 \u0441\u0442\u043E\u0440\u043E\u043D\u0443\xa0",(0,c.jsx)(n.a,{href:"http://pm2.keymetrics.io/docs/usage/docker-pm2-nodejs/",children:"pm2-docker"})]}),"\n",(0,c.jsx)(n.h3,{id:"consul",children:"Consul"}),"\n",(0,c.jsx)(n.p,{children:"\u041A\u043E\u043D\u0441\u0443\u043B \u044D\u0442\u043E \u0441\u0435\u0440\u0432\u0435\u0440, \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u0441\u043B\u0443\u0436\u0438\u0442 \u0434\u043B\u044F \u0441\u0432\u044F\u0437\u044B\u0432\u0430\u043D\u0438\u044F \u0441\u0435\u0440\u0432\u0438\u0441\u043E\u0432 \u0432\u043E\u0435\u0434\u0438\u043D\u043E (service discovery), \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0430\u043D\u0438\u044F \u0438\u0445 \u0441\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u044F \u0437\u0434\u043E\u0440\u043E\u0432\u044C\u044F (healthcheck) \u0438 \u0434\u043B\u044F \u0438\u0445 \u043A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0431\u0435\u0437 \u043F\u0435\u0440\u0435\u0437\u0430\u043F\u0443\u0441\u043A\u0430 (key-value storage)"}),"\n",(0,c.jsx)(n.p,{children:"\u041A\u0430\u0436\u0434\u044B\u0439 \u043F\u043E\u0434\u043D\u0438\u043C\u0430\u044E\u0449\u0438\u0439\u0441\u044F \u0441\u0435\u0440\u0432\u0438\u0441 \u0441\u0430\u043C \u0434\u043E\u043B\u0436\u0435\u043D \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0435\u0431\u044F \u0432 \u043A\u043E\u043D\u0441\u0443\u043B\u0435, \u0443\u043A\u0430\u0437\u0430\u0442\u044C \u043D\u0430 \u043A\u0430\u043A\u043E\u043C IP/\u043F\u043E\u0440\u0442\u0435 \u043E\u043D \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442. \u0421\u0430\u043C \u0434\u043E\u043B\u0436\u0435\u043D \u043E\u0442\u043A\u0440\u044B\u0442\u044C HTTP endpoint \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u0431\u0443\u0434\u0435\u0442 \u0432\u044B\u0434\u0430\u0432\u0430\u0442\u044C \u0441\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435 \u0437\u0434\u043E\u0440\u043E\u0432\u044C\u044F"}),"\n",(0,c.jsx)(n.h3,{id:"\u0441\u043B\u043E\u0436\u043D\u043E\u0441\u0442\u0438",children:"\u0421\u043B\u043E\u0436\u043D\u043E\u0441\u0442\u0438"}),"\n",(0,c.jsxs)(n.p,{children:["\u041F\u0440\u0438 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u0438 \u043C\u0438\u043A\u0440\u043E\u0441\u0435\u0440\u0432\u0438\u0441\u043E\u0432 \u0441\u0430\u043C\u0430\u044F \u0441\u043B\u043E\u0436\u043D\u0430\u044F \u0447\u0430\u0441\u0442\u044C \u044D\u0442\u043E\xa0",(0,c.jsx)(n.strong,{children:"\u0433\u0440\u0430\u043D\u0438\u0446\u0430"}),"\xa0\u0438\xa0",(0,c.jsx)(n.strong,{children:"\u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435"}),". \xa0\u0421\u0435\u0440\u0432\u0438\u0441 \u0434\u043E\u043B\u0436\u0435\u043D \u043E\u0442\u0432\u0435\u0447\u0430\u0442\u044C \u0437\u0430 \u043A\u043E\u043D\u043A\u0440\u0435\u0442\u043D\u0443\u044E \u0431\u0438\u0437\u043D\u0435\u0441-\u0444\u0443\u043D\u043A\u0446\u0438\u044E \u0438 \u0434\u043E\u043C\u0435\u043D\u043D\u0443\u044E \u043E\u0431\u043B\u0430\u0441\u0442\u044C. \u042D\u0442\u043E \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u044B\u0439 \u0441\u0440\u0435\u0437 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F. \xa0\u041D\u043E \u043F\u0440\u0438 \u044D\u0442\u043E\u043C \u0441\u0435\u0440\u0432\u0438\u0441 \u0434\u043E\u043B\u0436\u0435\u043D \u0432\u044B\u043F\u043E\u043B\u043D\u044F\u0442\u044C \u0432\u0435\u0441\u044C \u0441\u0442\u0435\u043A \u0440\u0430\u0431\u043E\u0442\u044B \u2014 ui, backend, db storage, queue processor. \u0412\u043F\u0438\u0445\u0438\u0432\u0430\u0442\u044C \u0441\u0442\u043E\u043B\u044C\u043A\u043E \u043E\u0442\u0432\u0435\u0442\u0441\u0432\u0435\u043D\u043D\u043E\u0441\u0442\u0438 \u0432 \u043E\u0434\u0438\u043D \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0435\u0445\u043D\u043E\u043B\u043E\u0433\u0438\u0447\u0435\u0441\u043A\u0438 \u0441\u043B\u043E\u0436\u043D\u043E, \u043F\u043E\u044D\u0442\u043E\u043C\u0443 \u043F\u0440\u0438\u0445\u043E\u0434\u0438\u0442\u0441\u044F \u0434\u0440\u043E\u0431\u0438\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u044B\u0439 \u0441\u0442\u0435\u043A \u0435\u0449\u0451 \u043D\u0430 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u044B\u0445 \u0441\u043B\u043E\u0451\u0432. \u041E\u0431\u0440\u0430\u0437\u043D\u043E \u0431\u044B\u043B article-manager - \u0441\u0442\u0430\u043B article-frontend, article-server, article-worker, \u043D\u0430\u0434 \u043A\u043E\u0442\u043E\u0440\u044B\u043C\u0438 \u043D\u0430\u0432\u0438\u0441\u0430\u044E\u0442 \u0435\u0449\u0451 \u0432\u0441\u044F\u043A\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044B \u043C\u043E\u043D\u0438\u0442\u043E\u0440\u0438\u043D\u0433\u0430. \u042D\u0442\u043E \u0442\u044F\u0436\u0435\u043B\u043E \u0441\u0432\u044F\u0437\u044B\u0432\u0430\u0442\u044C \u0432\u043C\u0435\u0441\u0442\u0435 \u0438 \u0434\u0435\u043F\u043B\u043E\u0438\u0442\u044C \u0440\u0430\u0437\u043E\u043C."]}),"\n",(0,c.jsx)(n.h3,{id:"node",children:"Node"}),"\n",(0,c.jsx)(n.p,{children:"\u041F\u043E\u0441\u043A\u043E\u043B\u044C\u043A\u0443 \u043D\u043E\u0434\u0430 \u0432\u0438\u0441\u0438\u0442 \u043F\u043E\u0441\u0442\u043E\u044F\u043D\u043D\u043E \u0432 \u043F\u0430\u043C\u044F\u0442\u0438, \u0432 \u043E\u0442\u043B\u0438\u0447\u0438\u0435 \u043E\u0442 php, \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u0437\u0430\u043F\u0443\u0441\u043A\u0430\u0435\u0442\u0441\u044F \u043F\u0440\u0438 \u0437\u0430\u043F\u0440\u043E\u0441\u0435, \u0442\u043E \u0432\u043E\u0437\u043D\u0438\u043A\u0430\u0435\u0442 \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u0430 \u043F\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043A\u043E\u0434\u0430 \u043F\u0440\u0438 \u0435\u0433\u043E \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0438. \u0412\u043E\u0442 \u043A\u0430\u043A \u0432\u044B\u0433\u043B\u044F\u0434\u0438\u0442 Dockerfile \u0441 PM2:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:'FROM node:6-alpine\nUSER root\nENV PORT=3000\nEXPOSE 3000\nRUN npm install pm2 -g\nWORKDIR /app\nCMD ["pm2-docker", "start", "pm2.json", "--watch"]\n'})}),"\n",(0,c.jsx)(n.p,{children:"\u0422\u0435\u043F\u0435\u0440\u044C \u0432 pm2.json \u043E\u043F\u0438\u0441\u044B\u0432\u0430\u0435\u0442\u0441\u044F \u043F\u0440\u0438 \u043A\u0430\u043A\u043E\u043C \u0441\u043B\u0443\u0447\u0430\u0435 \u043D\u0430\u0434\u043E \u043F\u0435\u0440\u0435\u0437\u0430\u043F\u0443\u0441\u043A\u0430\u0442\u044C \u0434\u043E\u043A\u0435\u0440 \u0441\u0435\u0440\u0432\u0438\u0441"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:'{\n  "apps": [\n    {\n      "name": "article-manager",\n      "script": "index.js",\n      "env": {\n        "PORT": 3000,\n        "CONSUL_IP": "192.168.10.10",\n        "CONSUL_PORT": 8500,\n        "SERVICE_NAME": "article-manager"\n      },\n      "watch": true,\n      "ignore_watch": [\n        "node_modules",\n        "npm-debug.log",\n        ".idea",\n        ".git",\n        "test/coverage"\n      ],\n      "watch_options": {\n        "followSymlinks": false\n      }\n    }\n  ]\n}\n'})}),"\n",(0,c.jsx)(n.h3,{id:"redis",children:"Redis"}),"\n",(0,c.jsx)(n.p,{children:"\u041E\u0447\u0435\u043D\u044C \u0431\u044B\u0441\u0442\u0440\u0430\u044F in-memory \u0431\u0430\u0437\u0430 \u0434\u043B\u044F \u043A\u0435\u0448\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u0434\u0430\u043D\u043D\u044B\u0445"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"version: '2'\nservices:\n  redis-master:\n    image: 'redis:2.8'\n    network_mode: bridge\n    volumes:\n        - ./data:/data\n    ports:\n        - 6379:6379\n    command: redis-server --appendonly yes\n"})}),"\n",(0,c.jsx)(n.h3,{id:"alias",children:"Alias"}),"\n",(0,c.jsx)(n.p,{children:"\u0414\u043B\u044F \u0443\u0434\u043E\u0431\u0441\u0442\u0432\u0430, \u0441\u043E\u0432\u0435\u0442\u0443\u044E \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u0432\u0430\u0448 ~/.bashrc \u0438\u043B\u0438 ~/.zshrc \u0430\u043B\u0438\u0430\u0441 \u043D\u0430 \u0431\u044B\u0441\u0442\u0440\u043E\u0435 \u043F\u043E\u0434\u043D\u044F\u0442\u0438\u0435 \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u0430:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"alias doc='docker-compose down && docker-compose up'\n"})})]})}function a(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(h,{...e})}):h(e)}},22771:function(e,n,r){r.d(n,{Z:function(){return t},a:function(){return i}});var s=r(75271);let c={},o=s.createContext(c);function i(e){let n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),s.createElement(o.Provider,{value:n},e.children)}},35031:function(e){e.exports=JSON.parse('{"permalink":"/blog/tech/backend/\u041C\u0438\u043A\u0440\u043E\u0441\u0435\u0440\u0432\u0438\u0441\u044B 2","editUrl":"https://github.com/tot-ra/kurapov.ee/tree/main/blog/tech/backend/\u041C\u0438\u043A\u0440\u043E\u0441\u0435\u0440\u0432\u0438\u0441\u044B 2.md","source":"@site/blog/tech/backend/\u041C\u0438\u043A\u0440\u043E\u0441\u0435\u0440\u0432\u0438\u0441\u044B 2.md","title":"\u041C\u0438\u043A\u0440\u043E\u0441\u0435\u0440\u0432\u0438\u0441\u044B 2","description":"\u0412 \u043F\u0440\u043E\u0448\u043B\u043E\u0439 \u0441\u0442\u0430\u0442\u044C\u0435 \u044F \u043D\u0430\u0447\u0430\u043B \u0438\u0437\u0443\u0447\u0430\u0442\u044C \u043C\u0438\u043A\u0440\u043E\u0441\u0435\u0440\u0432\u0438\u0441\u043D\u044B\u0439 \u043F\u043E\u0434\u0445\u043E\u0434, \u043D\u043E \u0434\u043E \u043F\u043E\u043B\u043D\u043E\u0446\u0435\u043D\u043D\u043E\u0433\u043E \u0440\u0435\u0448\u0435\u043D\u0438\u044F \u0442\u043E\u0433\u0434\u0430 \u043D\u0435 \u0434\u043E\u0448\u0451\u043B. \u0422\u043E\u0433\u0434\u0430 \u044F \u043F\u0440\u043E\u0431\u043E\u0432\u0430\u043B \u0441\u0430\u043C \u043F\u043E\u0434\u043D\u0438\u043C\u0430\u0442\u044C \u043F\u0440\u043E\u0446\u0435\u0441\u0441\u044B \u043D\u0430 php, \u0443\u043F\u0440\u0430\u0432\u043B\u044F\u0442\u044C \u0438\u043C\u0438, \u0441\u0432\u044F\u0437\u044B\u0432\u0430\u0442\u044C \u043C\u0435\u0436\u0434\u0443 \u0441\u043E\u0431\u043E\u0439 \u0447\u0435\u0440\u0435\u0437 \u043E\u0447\u0435\u0440\u0435\u0434\u0438 \u043F\u043E\u0442\u043E\u043C\u0443 \u0447\u0442\u043E \u043C\u043E\u043D\u043E\u043B\u0438\u0442 \u043D\u0435 \u043C\u043E\u0433 \u0441\u043F\u0440\u0430\u0432\u0438\u0442\u044C\u0441\u044F \u0441 \u0430\u0441\u0438\u043D\u0445\u0440\u043E\u043D\u043D\u044B\u043C\u0438 \u0437\u0430\u0434\u0430\u0447\u0430\u043C\u0438.\xa0\u041D\u043E \u0447\u0435\u0433\u043E \u0443 \u043C\u0435\u043D\u044F \u0440\u0435\u0430\u043B\u044C\u043D\u043E \u043D\u0435\u0445\u0432\u0430\u0442\u0430\u043B\u043E, \u0442\u0430\u043A \u044D\u0442\u043E\xa0\u043D\u043E\u0440\u043C\u0430\u043B\u044C\u043D\u043E\u0439 \u0438\u0437\u043E\u043B\u044F\u0446\u0438\u0438 \u0438 \u0434\u0435\u043F\u043B\u043E\u0439\u043C\u0435\u043D\u0442\u0430, \u043C\u0435\u0436\u0441\u0435\u0440\u0432\u0438\u0441\u043D\u043E\u0433\u043E \u0432\u0437\u0430\u0438\u043C\u043E\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F \u0438 \u0441\u0442\u0430\u0431\u0438\u043B\u044C\u043D\u043E\u0439 \u0440\u0430\u0431\u043E\u0442\u044B.","date":"2017-07-06T10:00:00.000Z","tags":[{"inline":true,"label":"backend","permalink":"/blog/tags/backend"}],"readingTime":2.775,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"\u041C\u0438\u043A\u0440\u043E\u0441\u0435\u0440\u0432\u0438\u0441\u044B 2","date":"2017-07-06T10:00","tags":["backend"]},"unlisted":false,"prevItem":{"title":"\u0423\u043C\u043D\u044B\u0439 \u0434\u043E\u043C \u2014 \u043E\u0442\u043E\u043F\u043B\u0435\u043D\u0438\u0435 \u0441 \u043F\u0435\u043B\u043B\u0435\u0442\u043D\u044B\u043C \u043A\u043E\u0442\u043B\u043E\u043C","permalink":"/blog/tech/devices/\u0423\u043C\u043D\u044B\u0439 \u0434\u043E\u043C \u2014 \u043E\u0442\u043E\u043F\u043B\u0435\u043D\u0438\u0435 \u0441 \u043F\u0435\u043B\u043B\u0435\u0442\u043D\u044B\u043C \u043A\u043E\u0442\u043B\u043E\u043C"},"nextItem":{"title":"MySQL \u0442\u0440\u0438\u0433\u0433\u0435\u0440\u044B \u043D\u0430 \u0441\u0442\u0440\u0430\u0436\u0435 \u0441\u043A\u043E\u0440\u043E\u0441\u0442\u0438 \u0438 \u0446\u0435\u043B\u043E\u0441\u0442\u043D\u043E\u0441\u0442\u0438","permalink":"/blog/tech/backend/DB/mysql/MySQL \u0442\u0440\u0438\u0433\u0433\u0435\u0440\u044B \u043D\u0430 \u0441\u0442\u0440\u0430\u0436\u0435 \u0441\u043A\u043E\u0440\u043E\u0441\u0442\u0438 \u0438 \u0446\u0435\u043B\u043E\u0441\u0442\u043D\u043E\u0441\u0442\u0438"}}')}}]);