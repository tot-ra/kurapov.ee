"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[65481],{28976:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>i,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>c,toc:()=>l});var s=t(74848),a=t(28453);const o={},r=void 0,c={permalink:"/blog/tech/backend/\u0421\u043e\u0437\u0434\u0430\u0451\u043c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u0440\u0430\u0437 \u041e\u0421 \u0434\u043b\u044f \u0441\u0440\u0435\u0434\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438",editUrl:"https://github.com/tot-ra/kurapov.ee/tree/main/blog/tech/backend/\u0421\u043e\u0437\u0434\u0430\u0451\u043c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u0440\u0430\u0437 \u041e\u0421 \u0434\u043b\u044f \u0441\u0440\u0435\u0434\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438.md",source:"@site/blog/tech/backend/\u0421\u043e\u0437\u0434\u0430\u0451\u043c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u0440\u0430\u0437 \u041e\u0421 \u0434\u043b\u044f \u0441\u0440\u0435\u0434\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438.md",title:"tech/backend/\u0421\u043e\u0437\u0434\u0430\u0451\u043c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u0440\u0430\u0437 \u041e\u0421 \u0434\u043b\u044f \u0441\u0440\u0435\u0434\u044b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438",description:"\u0447\u0435\u0442\u0432\u0435\u0440\u0433, 29 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2016 \u0433. \u0432 1622",date:"2024-10-22T20:50:17.727Z",tags:[],readingTime:1.69,hasTruncateMarker:!1,authors:[],frontMatter:{},unlisted:!1,prevItem:{title:"tech/backend/\u041f\u0443\u0442\u044c \u043a \u0424\u0435\u0434\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u043c\u0443 GraphQL",permalink:"/blog/tech/backend/\u041f\u0443\u0442\u044c \u043a \u0424\u0435\u0434\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u043c\u0443 GraphQL"},nextItem:{title:"tech/backend/\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 404 \u043e\u0448\u0438\u0431\u043a\u0438",permalink:"/blog/tech/backend/\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 404 \u043e\u0448\u0438\u0431\u043a\u0438"}},i={authorsImageUrls:[]},l=[];function h(n){const e={a:"a",br:"br",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"\u0447\u0435\u0442\u0432\u0435\u0440\u0433, 29 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2016 \u0433. \u0432 16:46:22"}),"\n",(0,s.jsx)(e.p,{children:"\u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043e\u0441\u043d\u043e\u0432\u044b, \u0431\u0443\u0434\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c CentOS 6.5"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 Virtualbox \u0438\xa0",(0,s.jsx)(e.a,{href:"https://www.vagrantup.com/downloads.html",children:"Vagrant"})]}),"\n",(0,s.jsx)(e.li,{children:"\u0421\u043e\u0437\u0434\u0430\u0451\u043c \u043d\u043e\u0432\u0443\u044e \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u043a\u0443 \u0432 virtualbox \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0444\u0435\u0434\u043e\u0440\u044b, \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0432 2\u0413\u0411 RAM \u0438 20 GB \u043f\u043e\u0434 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0438\u0441\u043a"}),"\n",(0,s.jsxs)(e.li,{children:["\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u043c CentOS-6.5-x86_64-LiveCD.iso \u0441\xa0",(0,s.jsx)(e.a,{href:"http://mirror.nsc.liu.se/centos-store/6.5/isos/x86_64/",children:"http://mirror.nsc.liu.se/centos-store/6.5/isos/x86_64/"}),". \u041e\u043d \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u044b\u0439 \u0431\u0443\u0442 (\u0437\u0430\u0433\u0440\u0443\u0437\u0447\u0438\u043a), recovery \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443"]}),"\n",(0,s.jsx)(e.li,{children:"\u0421\u0442\u0430\u0432\u0438\u043c root'\u0443 \u043f\u0430\u0440\u043e\u043b\u044c vagrant (\u043f\u043e\u0442\u043e\u043c \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043c\u043e\u0436\u043d\u043e)"}),"\n",(0,s.jsxs)(e.li,{children:["\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f vagrant",":vagrant"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u0443:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"#dont update unless you want CentOS 6.8 upgrade\n#yum update -y\n\n#install basic tools\nyum install -y htop nano\n\n#reboot for kernel updates to take place\nshutdown -r now\n"})}),"\n",(0,s.jsxs)(e.p,{children:["\u0421\u0438\u0441\u0442\u0435\u043c\u0443 \u043d\u0430\u0434\u043e\xa0",(0,s.jsx)(e.a,{href:"https://blog.engineyard.com/2014/building-a-vagrant-box",children:"\u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0433\u0440\u0430\u043d\u0442\u0430"}),", \u0435\u0441\u043b\u0438 \u043c\u044b \u0445\u043e\u0442\u0438\u043c \u0435\u0451 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u044b\u043a\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u0434 \u0440\u0430\u0437\u043d\u044b\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u044b.."]}),"\n",(0,s.jsx)(e.p,{children:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 - \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"sudo visudo -f /etc/sudoers.d/vagrant\n#adding to this file:\nvagrant ALL(ALL) NOPASSWD:ALL\n\n#setup vagrant public key access\nmkdir -p /home/vagrant/.ssh\nchmod 0700 /home/vagrant/.ssh\nwget --no-check-certificate \\\n    https://raw.github.com/mitchellh/vagrant/master/keys/vagrant.pub \\\n    -O /home/vagrant/.ssh/authorized_keys\nchmod 0600 /home/vagrant/.ssh/authorized_keys\nchown -R vagrant /home/vagrant/.ssh\n\nnano /etc/ssh/sshd_config\n#uncomment  AuthorizedKeysFile %h/.ssh/authorized_keys\n\n#enable public key authentication\nservice sshd restart\n\n#start ssh on reboot\nchkconfig sshd on\n\nvisudo #comment out requiretty option\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u0422\u0435\u043f\u0435\u0440\u044c \u0434\u043b\u044f \u0432\u0430\u0433\u0440\u0430\u043d\u0442\u0430 \u043d\u0443\u0436\u043d\u044b Guest Additions. \u042d\u0442\u043e iso \u0444\u0430\u0439\u043b \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443 virtual box'\u0430 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c. \u041d\u0430\u0434\u043e \u0441\u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u043d\u0430 \u0434\u0438\u0441\u043a \u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443 \u043f\u0430\u043a\u0435\u0442\u043e\u0432"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"yum install -y gcc build-essential perl kernel-devel\n\n#mount VBoxGuestAdditions.iso on CD in Virtualbox and run these:\nsudo mount /dev/cdrom /mnt \ncd /mnt\nsudo ./VBoxLinuxAdditions.run\n\necho export KERN_DIR=/usr/src/kernels/`uname -r`/ >> ~/.bashrc\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u0422\u0435\u043f\u0435\u0440\u044c, \u0443 \u0432\u0430\u0441 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e \u0441\u0442\u043e\u0438\u0442 \u043d\u0430\u0434\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0434\u043b\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 - SELinux. \u0415\u0441\u043b\u0438 \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e, \u0442\u043e \u043b\u0443\u0447\u0448\u0435 \u0435\u0433\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"setenforce Permissive\nnano /etc/sysconfig/selinux\n#set to:\n#SELINUX=disabled\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u0422\u0435\u043f\u0435\u0440\u044c \u043a\u043e\u0433\u0434\u0430 \u0432\u0441\u0451 \u0433\u043e\u0442\u043e\u0432\u043e, \u0432\u044b\u0445\u043e\u0434\u0438\u043c \u0438\u0437 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u043a\u0438 \u0438 \u0443\u043f\u0430\u043a\u043e\u0432\u044b\u0432\u0430\u0435\u043c \u0435\u0451 \u0434\u043b\u044f vagrant'\u0430. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043d\u0430\u0434\u043e \u0437\u0430\u0439\u0442\u0438 \u0432 \u043f\u0430\u043f\u043a\u0443 \u0433\u0434\u0435 \u043b\u0435\u0436\u0438\u0442 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u043a\u0430 \u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0430\u043d\u0434\u0443 \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0442 package.box \u0444\u0430\u0439\u043b\u0438\u043a \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u043c \u0431\u0443\u0434\u0435\u0442 \u0441\u0441\u044b\u043b\u0430\u0442\u044c\u0441\u044f Vagrantfile \u0432 \u043d\u0430\u0448\u0435\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"#package box and move it to desktop\nvagrant package --base CentosEmpty && mv package.box ~/Desktop/\n\n#clean vagrant cache\nvagrant global-status --prune\n\n#cd to your project that references new box from desktop\nvagrant up\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u0421\u043c \u0442\u0430\u043a\u0436\u0435:"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.a,{href:"http://williamwalker.me/blog/creating-a-custom-vagrant-box.html",children:"http://williamwalker.me/blog/creating-a-custom-vagrant-box.html"}),(0,s.jsx)(e.br,{}),"\n",(0,s.jsx)(e.a,{href:"https://www.vagrantup.com/docs/boxes/base.html",children:"https://www.vagrantup.com/docs/boxes/base.html"}),(0,s.jsx)(e.br,{}),"\n",(0,s.jsx)(e.a,{href:"http://aruizca.com/steps-to-create-a-vagrant-base-box-with-ubuntu-14-04-desktop-gui-and-virtualbox/",children:"http://aruizca.com/steps-to-create-a-vagrant-base-box-with-ubuntu-14-04-desktop-gui-and-virtualbox/"}),(0,s.jsx)(e.a,{href:"https://stefanwrobel.com/how-to-make-vagrant-performance-not-suck"}),(0,s.jsx)(e.br,{}),"\n",(0,s.jsx)(e.a,{href:"https://stefanwrobel.com/how-to-make-vagrant-performance-not-suck",children:"https://stefanwrobel.com/how-to-make-vagrant-performance-not-suck"})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.a,{href:"http://unix.stackexchange.com/questions/18435/how-to-install-virtualbox-guest-additions-on-centos-via-command-line-only",children:"http://unix.stackexchange.com/questions/18435/how-to-install-virtualbox-guest-additions-on-centos-via-command-line-only"})})]})}function d(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(h,{...n})}):h(n)}},28453:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>c});var s=t(96540);const a={},o=s.createContext(a);function r(n){const e=s.useContext(o);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:r(n.components),s.createElement(o.Provider,{value:e},n.children)}}}]);