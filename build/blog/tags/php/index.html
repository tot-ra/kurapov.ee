<!doctype html><html lang=ru dir=ltr class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>14 записей с тегом "php" | Артём Курапов</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://kurapov.ee/img/docusaurus-social-card.jpg><meta data-rh=true name=twitter:image content=https://kurapov.ee/img/docusaurus-social-card.jpg><meta data-rh=true property=og:url content=https://kurapov.ee/blog/tags/php><meta data-rh=true property=og:locale content=ru><meta data-rh=true name=docusaurus_locale content=ru><meta data-rh=true name=docsearch:language content=ru><meta data-rh=true property=og:title content='14 записей с тегом "php" | Артём Курапов'><meta data-rh=true name=docusaurus_tag content=blog_tags_posts><meta data-rh=true name=docsearch:docusaurus_tag content=blog_tags_posts><link data-rh=true rel=icon href=/img/favicon/favicon.ico><link data-rh=true rel=canonical href=https://kurapov.ee/blog/tags/php><link data-rh=true rel=alternate href=https://kurapov.ee/blog/tags/php hreflang=ru><link data-rh=true rel=alternate href=https://kurapov.ee/blog/tags/php hreflang=x-default><link rel=alternate type=application/rss+xml href=/blog/rss.xml title="Артём Курапов RSS Feed"><link rel=alternate type=application/atom+xml href=/blog/atom.xml title="Артём Курапов Atom Feed"><link rel=stylesheet href=/assets/css/styles.d9f472d0.css><script src=/assets/js/runtime~main.0b1e7376.js defer></script><script src=/assets/js/main.45ae37e6.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Перейти к основному содержимому"><a class=skipToContent_aCxL href=#__docusaurus_skipToContent_fallback>Перейти к основному содержимому</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Переключить навигационную панель" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/artjom.jpg alt="Artjom Kurapov" class="themedComponent_cfDz themedComponent--light_Kj2W"><img src=/img/artjom.jpg alt="Artjom Kurapov" class="themedComponent_cfDz themedComponent--dark__Nfe"></div><b class="navbar__title text--truncate">Артём Курапов</b></a><a class="navbar__item navbar__link" href="/docs/Об авторе">Об авторе</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/blog>Блог</a></div><div class="navbar__items navbar__items--right"><a href=https://github.com/tot-ra/kurapov.ee target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><div class="toggle_LxwK colorModeToggle_c2rS"><button class="clean-btn toggleButton_gSiH toggleButtonDisabled_GY0v" type=button disabled title="Переключение между темным и светлым режимом (сейчас используется Светлый режим)" aria-label="Переключение между темным и светлым режимом (сейчас используется Светлый режим)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_WH3Q><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_OWtW><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_vXry></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_jkFy"><div class="container margin-vert--lg"><div class=row><aside class="col col--3"><nav class="sidebar_aM6_ thin-scrollbar" aria-label="Навигация по последним постам в блоге"><div class="sidebarItemTitle_Dvxs margin-bottom--md">Последние заметки</div><div role=group><h3 class=yearGroupHeading_ZKt1>2025</h3><ul class="sidebarItemList_X9hj clean-list"><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/2025/05/07/события/ AWS Gen AI meetup"> AWS Gen AI meetup</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/2025/04/29/события/ AGI - Beyond the Hype Before the Storm">AGI: Beyond the Hype, Before the Storm</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/2025/04/28/события/ Decentralized AI event"> Decentralized AI event</a></ul></div><div role=group><h3 class=yearGroupHeading_ZKt1>2024</h3><ul class="sidebarItemList_X9hj clean-list"><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/2024/12/13/события/ Tallinn AI meetup"> Tallinn AI meetup</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/2024/11/26/события/ AI meetup notes"> AI meetup notes</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href=/blog/2024/11/14/события/AI-ED-Webinar>Andmete ja tehisintellekti olulisusest personaliseerituma õppe poole liikumisel by Innar Liiv</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/кино/The Wild Robot">кино/The Wild Robot</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href='/blog/управление/Product team models - project based, "feature factory" and product operating model'>Product team models - project based, feature factory and product operating model</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/tech/devices/Моя коллекция часов в 2024">Моя коллекция часов в 2024</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/tech/soft/Как записывать экран с круглой камерой">Как записывать экран с круглой камерой</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href=/blog/2024/10/18/события/AsuurKeraamika>Asuur Keraamika</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href=/blog/tech/backend/gpu/CUDA>CUDA</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/2024/10/12/события/Katana meetup">Katana meetup</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/2024/10/04/события/Pipedrive meetup">Pipedrive meetup</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/2024/10/01/события/Digit 2024 Tartu">Digit Tartu conference 2024</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/2024/09/25/события/TallinnJS meetup">Tallinn JS meetup</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/2024/05/24/события/Latitude 59">Latitude 59</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/управление/hiring/Homework sandboxes">Sandboxes for homework assignments</a></ul></div><div role=group><h3 class=yearGroupHeading_ZKt1>2022</h3><ul class="sidebarItemList_X9hj clean-list"><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/психология/Об этике пчеловодства">Об этике пчеловодства</a><li class=sidebarItem_hoJQ><a class=sidebarItemLink_rV_M href="/blog/tech/Dream of scalable & enriched graphql-subscriptions">Dream of scalable & enriched graphql-subscriptions</a></ul></div></nav></aside><main class="col col--7"><header class=margin-bottom--xl><h1>14 записей с тегом "php"</h1><a href=/blog/tags>Посмотреть все теги</a></header><article class=margin-bottom--xl><header><h2 class=title_Y5lg><a href="/blog/tech/backend/php/Блокировка сессий в php">Блокировка сессий в php</a></h2><div class="container__LhH margin-vert--md"><time datetime=2016-04-28T10:00:00.000Z>28 апреля 2016 г.</time> · <!-- -->1 мин. чтения</div></header><div class=markdown><p>Многие в курсе что при параллельных запросах от браузера к серверу, браузер старается ограничить число активных запросов (по ~5 на домен). Но та же проблема возникает и на бэкэнде с ресурсами</p>
<p>Одна проблема с БД решается транзакциями. Но вторая, более явная остаётся - сессии. В моём случае эта проблема вылезла при загрузке файлов в SPA-приложении. Делаете 20 POST запросов с файлами и параллельно ходите по сайту. Выглядит всё так, что покуда файл не загрузится и сервер не ответит, следующий GET не сработает и UI не обновится</p>
<p>Происходит это потому что php блокирует потоки где есть session_start(). В моём случае это все запросы, потому что есть авторизация</p>
<p>Решается очень просто:</p>
<p>session_write_close();</p>
<p>Закрываем явно запись в сессию. Читать мы всё ещё сможем оттуда, но зато следующие запросы смогут быстро исполняться. Я это делаю ещё до того как файл начнётся обрабатываться</div><footer class="row docusaurus-mt-lg"><div class=col><b>Теги:</b><ul class="tags_BNPU padding--none margin-left--sm"><li class=tag_wFKI><a class="tag_mxxo tagRegular_OVld" href=/blog/tags/php>php</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_Y5lg><a href="/blog/tech/backend/php/Работа с бинарными данными в php">Работа с бинарными данными в php</a></h2><div class="container__LhH margin-vert--md"><time datetime=2012-11-14T10:00:00.000Z>14 ноября 2012 г.</time> · <!-- -->6 мин. чтения</div></header><div class=markdown><p>PHP как язык плохо подходит для работы бинарными данными напрямую. Но иногда приложения должны взаимодействовать по таким протоколам, где размер пакетов очень важен или <a href=http://thefrozenfire.com/2010/12/nbt-decoderencoder-for-php/ target=_blank rel="noopener noreferrer">родным форматом данных</a> для какого-то приложения, который никем в красивый json или xml не переводится.</p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=целые-типы-�данных>Целые типы данных<a href=#целые-типы-данных class=hash-link aria-label="Прямая ссылка на Целые типы данных" title="Прямая ссылка на Целые типы данных">​</a></h3>
<p>Напоминаю какие типы данных есть в Си, на котором основан php</p>
<table><thead><tr><th><th><th><tbody><tr><td>Тип<td>Размер памяти<td>Значений всего<tr><td>char<td>1 байт = 8 бит<td>256<tr><td>int<td>2 байт = 16 бит<td>2^16=65536<tr><td>short<td>2 байта<td><tr><td>long<td>4 байта = 32 бита<td>4294967295</table>
<p>Char при этом используется универсально согласно ASCII табличке как в качестве явного кодирования текста, так и вспомогательными маркерами. Про float я умолчу, ибо мне не понадобилось.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=нотация>Нотация<a href=#нотация class=hash-link aria-label="Прямая ссылка на Нотация" title="Прямая ссылка на Нотация">​</a></h3>
<p>Если с бинарными данными не работать, то можно и забыть основы языка. С целыми числами на основании 10 всё понятно, но обычно значения длинных данных в них не пишут. Это объясняет табличку выше.</p>
<ul>
<li>
<p>Бинарная, например <strong>0b</strong>1011</p>
</li>
<li>
<p>Восьмеричная, например <strong>0</strong>123</p>
</li>
<li>
<p>Шестнадцатиричная, например <strong>0x</strong>F560B1A9</p>
</li>
</ul>
<iframe width=934 height=350 src=https://www.youtube.com/embed/eAB6i4lDU-k title="PHP 5.4 Support for Binary Format" frameborder=0 allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy=strict-origin-when-cross-origin></iframe>
<p>Кроме этого, если вы переписываетесь с коллегами которые пишут на си, то они могут обозначать приставками или окончаниями</p>
<ul>
<li>Unsigned int 14<strong>u</strong></li>
<li>Long double или long int. Например 1.2<strong>l</strong> или 1<strong>L</strong> - фиг поймёшь, это единица или long</li>
<li>Float (с плавающей запятой) 1.3<strong>f</strong> или 1.3<strong>F</strong></li>
</ul>
<p>Итого, у нас <strong>char a</strong> будет хранить значение от -128 до 127.. ну или 256 если это extended ASCII. Отлично. Теперь как это использовать в php? </p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=порядок-битов>Порядок битов<a href=#порядок-битов class=hash-link aria-label="Прямая ссылка на Порядок битов" title="Прямая ссылка на Порядок битов">​</a></h3>
<p>Честно, для меня было откровением что порядок в данных имеет значение. Я привык что 123 уже подразумевает где сотни, десятки и единицы, но для компьютера ведь всё равно. Конечно одно дело порядок написания для человека.. но тут другое - порядок записи байтов в зависимости от адреса. И больше всего удивительно что архитектуры на уровне работы с памятью <a href=http://en.wikipedia.org/wiki/Endianness target=_blank rel="noopener noreferrer">разделились</a> - x86 на стороне little endian, а за big endian SPARC и прочие. Поэтому если вы интегрируете разные архитектуры с бинарным форматом данных - договоритесь которая система будет работать.</p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=операции>Операции<a href=#операции class=hash-link aria-label="Прямая ссылка на Операции" title="Прямая ссылка на Операции">​</a></h3>
<ol>
<li>Бинарное чтение файла - fopen("binaryfile","b");</li>
</ol>
<p>2. <a href=http://stackoverflow.com/questions/5319475/bitmask-in-php-for-settings target=_blank rel="noopener noreferrer">Битовые маски</a> - популярный метод хранить много булевых значений в одной переменной и включать/проверять с помощью AND/OR операций. Если вы когда либо выполняли <strong>chmod 755</strong>, то уже включали эти флажки на привилий.</p>
<p>3. <a href=http://php.net/manual/en/language.operators.bitwise.php target=_blank rel="noopener noreferrer">Побитовые сдвиги</a> - помогают работать с битовыми масками и с битами в вообще</p>
<p><code>$b = $a **>>** 2; - сдвиг битов на две позиции вправо, тут может пригодится константа PHP_INT_SIZE $b = 8 >> 3; //1</code></p>
<h4 class="anchor anchorWithStickyNavbar_CPg9" id=4-cyclic-redundancy-check>4. Cyclic redundancy check<a href=#4-cyclic-redundancy-check class=hash-link aria-label="Прямая ссылка на 4. Cyclic redundancy check" title="Пря�мая ссылка на 4. Cyclic redundancy check">​</a></h4>
<p>Проверка данных с помощью контрольных сумм увы для меня осталась за пределами понимания. Важно знать что биты суммируются, и что полиномы бывают разные. Соответсвенно алгоритмы тоже бывают разные и как правило неограничивается функцией <a href=http://php.net/manual/en/function.crc32.php target=_blank rel="noopener noreferrer">crc32()</a>. Гляньте на <a href=https://gist.github.com/4251018 target=_blank rel="noopener noreferrer">мою коллекцию</a> и <a href=http://www.zorc.breitbandkatze.de/crc.html target=_blank rel="noopener noreferrer">онлайн валидатор</a> .</p>
<p>Вот пример самого короткого кода для CRC16 CCITT</p>
<div class="language-php codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-php codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">function crc16_ССITT($data) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $crc = 0xFFFF;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    for($i = 0; $i &lt; strlen($data); $i++) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $x = (($crc >> 8) ^ ord($data[$i])) & 0xFF;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $x ^= $x >> 4;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $crc = (($crc &lt;&lt; 8) ^ ($x &lt;&lt; 12) ^ ($x &lt;&lt; 5) ^ $x) & 0xFFFF;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    return $crc;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_CPg9" id=5-упаковка>5. Упаковка<a href=#5-упаковка class=hash-link aria-label="Прямая ссылка на 5. Упаковка" title="Прямая ссылка на 5. Упаковка">​</a></h4>
<p>Если вы обычную переменную в php начнёте сохранять в файл, то она наверняка не будет оптимальной. А если таких однородных данных много - то тем более имеет смысл создать более компактную версию. </p>
<p>Например, если вы хотите число 250 записать в один байт как char-тип, вместо того что-бы писать "строкой" в три символа, как то будет делать php по умолчанию, пишем:</p>
<p><code>pack('c', 250);</code></p>
<p>Первый аргумент это формат данных по длине. Если все данные char-типа, то можно написать <strong>c</strong>* как в регулярных выражениях, получить повторение типа. Можно написать <strong>c4</strong>, что будет аналогично <strong>cccc</strong> (четыре повторения данных char-типа)</p>
<p>Всего типов данных много..</p>
<ul>
<li>a - строка, свободные места в поле заполняются символом с кодом 0</li>
<li>A - строка, свободные места заполняются пробелами</li>
<li>h - шестнадцатеричная строка, младшие разряды в начале (little endian)</li>
<li>H - шестнадцатеричная строка, старшие разряды в начале (big endian)</li>
<li><strong>c - 1 байт (signed char)</strong></li>
<li><strong>C - 1 байт (unsigned char)</strong></li>
<li>x - символ с нулевым кодом</li>
<li>X - возврат назад на 1 байт</li>
<li>@ - заполнение нулевым кодом до заданной абсолютной позиции </li>
</ul>
<p>Float</p>
<ul>
<li>f - число с плавающей точкой</li>
<li>d - число двойной точности </li>
</ul>
<table><thead><tr><th><th><tbody><tr><td><strong>2 байта</strong> (целые, integer)<td><strong>4 байта</strong> (long)<tr><td>- s - short (16 bit)- S - unsigned short- <strong>n</strong> - short (big endian)- v - unsigned short (little endian)- i - integer (размер и порядок байтов определяется архитектурой)- I - unsigned integer<td>- l - знаковое длинное целое (32 бита, порядок знаков определяется архитектурой)- L - беззнаковое длинное целое- N - беззнаковое длинное целое (32 бита, старшие разряды в конце)- V - беззнаковое целое (32 бита, младшие разряды в конце)</table>
<p>Сам не проверял, но говорят что <a href=http://proger.i-forge.net/Forcing_PHP_signed_integer_as_unsigned/O1p target=_blank rel="noopener noreferrer">unsigned int получить</a> не так то просто</p>
<h4 class="anchor anchorWithStickyNavbar_CPg9" id=6-распаковка>6. Распаковка<a href=#6-распаковка class=hash-link aria-label="Прямая ссылка на 6. Распаковка" title="Прямая ссылка на 6. Распаковка">​</a></h4>
<p>Для раскодирования используется unpack() с аналогичным форматом типов данных, только теперь можно добавлять названия ключей для результатов ассоциативного массива<br>
<code>unpack("cmessageid/Vtimestamp", pack("H*",FFFF));</code></p>
<p>Заметьте что pack я тут использую вместо <strong>hex2bin</strong>, которая недоступна для версий php менее 5.4</p>
<h4 class="anchor anchorWithStickyNavbar_CPg9" id=7-конвертирование>7. Конвертирование<a href=#7-конвертирование class=hash-link aria-label="Прямая ссылка на 7. Конвертирование" title="Прямая ссылка на 7. Конвертирование">​</a></h4>
<p><strong>base_convert</strong> - конвертирование <em>строковых</em> представлений чисел из любого основания в другое (скажем 16 в 2)<br>
<!-- -->bindec, decbin - конвертирование [2-10] двоичных и десятичных данных<br>
<!-- -->octdec, decoct - конвертирование [8-10] десятичных и восьмеричных данных<br>
<!-- -->hexdec, dechex - конвертирование [16-10] десятичных и шестнадцатиричных данных<br>
<!-- -->ord, chr - конвертирование [256-10] десятичных и символьных (ascii) данных</p>
<p>base64_encode, base64_decode - конвертирование [256-256] данных, но в отличие от предыдущих форматов, данные одного значения не кодируются в 6 битах что-бы получить 64 значения, а по прежнему в 8 битах - остальные символы просто не используются.. Из-за этого формат менее эффективен в хранении, но для человека <strong>в виде текста</strong> более компактен чем нули, единицы или hex.</p>
<p>Отличительная и неприятная особенность, конечно в том что каждая из функций конвертирует данные со строго определённым размером данных. Обычно же у нас есть какой-то пакет данных. Их можно проконвертировать в цикле с определённым шагом..</p>
<div class="language-php codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-php codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">function str2bin($str, $mode=0, $visual_aid=true) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $out = false;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    for($a=0; $a &lt; strlen($str); $a++) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $dec = ord(substr($str,$a,1));</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $bin = '';</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        for($i=7; $i>=0; $i--) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            if ( $dec >= pow(2, $i) ) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                $bin .= "1";</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                $dec -= pow(2, $i);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            } else {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                $bin .= "0";</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        /* Default-mode */</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        if ( $mode == 0 ) $out .= $bin;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        /* Human-mode (easy to read) */</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        if ( $mode == 1 ) $out .= $bin . " ";</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        /* Array-mode (easy to use) */</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        if ( $mode == 2 ) $out[$a] = $bin;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><br></span><span class=token-line style=color:#393A34><span class="token plain">        if($visual_aid){</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            $out.=" ";</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    return $out;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">function str2dec($string, $visual_aid=true){</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $hex='';</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    for ($i=0; $i &lt; strlen($string); $i++)    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $hex .= ord($string[$i]);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        if($visual_aid){</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            $hex.= "(".$string[$i].") ";</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    return $hex;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">function str2hex($string, $visual_aid=true){</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $hex='';</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    for ($i=0; $i &lt; strlen($string); $i++)    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $hex .= dechex(ord($string[$i]));</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        if($visual_aid){</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            $hex.= " ";</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    return $hex;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">function hex2str($hex){</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $string='';</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    for ($i=0; $i &lt; strlen($hex)-1; $i+=2)    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $string .= chr(hexdec($hex[$i].$hex[$i+1]));</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    return $string;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>По теме советую почитать</p>
<ul>
<li><a href=https://igor.io/2012/09/24/binary-parsing.html target=_blank rel="noopener noreferrer">Binary parsing with PHP</a></li>
<li><a href=http://kamashev.name/2012/06/function-pack-and-unpack-process-binary-data/ target=_blank rel="noopener noreferrer">Функции pack и unpack. Работа с бинарными данными</a></li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Теги:</b><ul class="tags_BNPU padding--none margin-left--sm"><li class=tag_wFKI><a class="tag_mxxo tagRegular_OVld" href=/blog/tags/php>php</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_Y5lg><a href="/blog/tech/backend/php/Профилирование PHP проектов">Профилирование PHP проектов</a></h2><div class="container__LhH margin-vert--md"><time datetime=2012-06-05T10:00:00.000Z>5 июня 2012 г.</time> · <!-- -->5 мин. чтения</div></header><div class=markdown><p><strong>Профилирование</strong> это анализ потребления ресурсов при работе программы. Этимология слова видимо связана с тем что профиль это некая граница, отсюда - поиск границ компонентов ПО в ресурсном пространстве. В моём случае программа это исполняемые php-скрипты, а ресурсы это время, память и нагрузка на процессор. Время исполнения не всегда связано с <em>нагрузкой процессора</em>. Процесс может ждать IO-ответа от более медленных источников, а может и просто спать.</p>
<p>Я писал про <a href=http://kurapov.name/rus/technology/web/php/php_speed/ target=_blank rel="noopener noreferrer">микрооптимизацию в php</a>. Как правило отмечали критики, в общем случае она не нужна. Профилирование это взгляд с высоты птичьего полёта на подключаемый код. Он делается только на рабочей машинке, а не на production. В некоторых LAMP-сборках инструменты для этого уже установлены.</p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=xdebug>XDebug<a href=#xdebug class=hash-link aria-label="Прямая ссылка на XDebug" title="Прямая ссылка на XDebug">​</a></h3>
<p><a href=http://xdebug.org/docs/profiler target=_blank rel="noopener noreferrer">XDebug</a> - это php модуль, я уже давно с ним работаю как с дебаггером.</p>
<div class="codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-text codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">zend_extension = xdebug.so</span><br></span><span class=token-line style=color:#393A34><span class="token plain">xdebug.profiler_enable = 1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">xdebug.profiler_aggregate = On</span><br></span><span class=token-line style=color:#393A34><span class="token plain">xdebug.profiler_output_dir = /tmp</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Он позволяет генерировать доклад о профилировании в форме файла. Из-за глубокой иерархичности, доклад обычно весит несколько мегабайт. Настройки модуля хранятся в php.ini, там же можно и указать путь к результату профилирования. Назовём его cachegrind.out - он совместим с более общим <a href=http://valgrind.org/ target=_blank rel="noopener noreferrer">форматом valgrind</a></p>
<p>Можно сделать так что-бы он генерировался постоянно, можно - с помощью куки-триггеров. Файл можно делать на каждый отдельный системный процесс, на отдельный URL запрос, по времени исполнения или <a href=http://xdebug.org/docs/all_settings#trace_output_name target=_blank rel="noopener noreferrer">их комбинаций</a>. Дальше его стоит связать с одним из анализаторов:</p>
<ol>
<li>
<p>PHPStorm (Tools - Analyze stacktrace)</p>
</li>
<li>
<p><a href=http://code.google.com/p/webgrind/ target=_blank rel="noopener noreferrer">webgrind</a></p>
</li>
<li>
<p><a href=http://sourceforge.net/projects/wincachegrind/ target=_blank rel="noopener noreferrer">WinCacheGrind</a></p>
</li>
<li>
<p><a href=http://kcachegrind.sourceforge.net/cgi-bin/show.cgi target=_blank rel="noopener noreferrer">KCacheGrind</a> </p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=xhprof>XHProf<a href=#xhprof class=hash-link aria-label="Прямая ссылка на XHProf" title="Прямая ссылка на XHProf">​</a></h3>
<p><img decoding=async loading=lazy src=https://s3-eu-west-1.amazonaws.com/kurapov/image/thumb/2131.png alt="Screen Shot 2012-07-06 at 11.31.19.png" title="Screen Shot 2012-07-06 at 11.31.19.png" class=img_sJtY></p>
<p><a href=https://github.com/facebook/xhprof/ target=_blank rel="noopener noreferrer">XHProf</a> - пакет <a href=http://pecl.php.net/package/xhprof target=_blank rel="noopener noreferrer">PECL</a>, написан в Facebook, поставляется тоже как модуль (xhprof.so или xhprof.dll). Позволяет учитывать значительно больше параметров, в т.ч. нагрузку на CPU и оперативную память. Позволяет сравнивать повторные запуски и агрегировать их результаты. Наиболее полезная фича - суммарный анализ по времени в виде весового графа. Граф генерируется с помощью <strong>graphviz</strong> и утилитки <strong>dot</strong>. У меня были небольшие проблемы под маком, пришлось <a href=http://www.ryandesign.com/graphviz/ target=_blank rel="noopener noreferrer">поставить вручную</a>.</p>
<p><code>pecl install xhprof-0.9.2</code></p>
<p>Редактируем php.ini:</p>
<div class="codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-text codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain"> extension=xhprof.so</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> xhprof.output_dir=/var/tmp/xhprof </span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Поскольку просмотр результатов xhprof целиком web-based, то надо залинковать где-то в корне htdocs путь к xhprof_html папке. Для подключения, необходимо изменять свои скрипты. Т.е. где-то в начале своего index.php ставится include, инициализация и что-бы не бояться за какой-то exit, хук на register_shutdown_function. Вместо того что-бы инклудить каждый раз, можно воспользоваться php-директивой <strong>auto_prepend_file</strong> и включать это файл всегда</p>
<div class="language-php codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-php codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">//результат будет виден с ?xhprof=1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">if (extension_loaded('xhprof') && $_GET['xhprof']) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    include_once 'xhprof_lib/utils/xhprof_lib.php';</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    include_once 'xhprof_lib/utils/xhprof_runs.php';</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    xhprof_enable(XHPROF_FLAGS_CPU + XHPROF_FLAGS_MEMORY);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><br></span><span class=token-line style=color:#393A34><span class="token plain">    function end_xhprof(){</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $profiler_namespace = 'myapp'; // namespace вашего приложения</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $xhprof_data = xhprof_disable();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $xhprof_runs = new XHProfRuns_Default();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $run_id = $xhprof_runs->save_run($xhprof_data, $profiler_namespace);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><br></span><span class=token-line style=color:#393A34><span class="token plain">        //Замените относительный путь к залинкованной папке</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $profiler_url = sprintf('http://' . $_SERVER['SERVER_NAME'] . '/xhprof/index.php?run=%s&source=%s', $run_id, $profiler_namespace);</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">         echo 'XHProfiler output';</span><br></span><span class=token-line style=color:#393A34><span class="token plain">     }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><br></span><span class=token-line style=color:#393A34><span class="token plain">     register_shutdown_function('end_xhprof');</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> }</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Можно конечно не делать echo ссылки, а прятать это <a href=http://habrahabr.ru/post/145895/ target=_blank rel="noopener noreferrer">в javascript-консольку для firebug'а</a>, более подробно советую почитать <a href=http://tigor.com.ua/blog/2009/12/13/profiling-php-with-xhprof/ target=_blank rel="noopener noreferrer">статью Игоря Бровченко</a>, он даже сравнивал несколько php-фреймворков.. или <a href=http://techportal.inviqa.com/2009/12/01/profiling-with-xhprof/ target=_blank rel="noopener noreferrer">Лорензо Албертона</a></p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=слежка>Слежка<a href=#слежка class=hash-link aria-label="Прямая ссылка на Слежка" title="Прямая ссылка на Слежка">​</a></h3>
<p>Профайлеры конечно хороши когда есть начало, конец и результат в виде доклада. Но когда php висит как демон очень долго и хочется понять где же это он тормозит.. В утилитках типа <strong>phpcs</strong> для вывода деталей работы, часто существует флаг -v (verbose mode). Но до того как я это узнал, мой процесс уже час как висел в jenkins'е и я незнал, стоит ли мне убивать его, или он что-то полезное таки делает. К счастью, в общем случае, можно следить за IO-действиями любого процесса без его согласия с помощью <strong>strace</strong>:</p>
<div class="codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-text codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">strace -p IDпроцесса strace php index.php #запустит трейс вместе за запуском php в CLI режиме </span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_CPg9" id=дебаг-зависимостей>Дебаг зависимостей<a href=#дебаг-зависимостей class=hash-link aria-label="Прямая ссылка на Дебаг зависимостей" title="Прямая ссылка на Дебаг зависимостей">​</a></h2>
<p>PHPStorm умеет искать использование методов и классов, но это статический анализ, а вот для того что-бы динамически построить дерево зависимостей, есть отличный pecl модуль inclued (на момент установки у меня - 0.1.3)</p>
<div class="codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-text codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">pecl install inclued</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Теперь так же редактируем php.ini:</p>
<div class="codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-text codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">extension=inclued.so</span><br></span><span class=token-line style=color:#393A34><span class="token plain">inclued.enabled=1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">inclued.dumpdir=/tmp/inclued</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Это нам даёт при каждом запросе файл с сериализованным выводом функции <a href=http://ee.php.net/manual/ru/function.inclued-get-data.php target=_blank rel="noopener noreferrer">inclued_get_data()</a>, которая возвращает все подключённые файлы.</p>
<p>Если следовать мануалу, то по идее так можно сгенерировать png-файлик..</p>
<div class="codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-text codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">php /usr/lib/php/pear/gengraph.php -i inclued.06567.1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">dot -Tpng -o inclued.png inclued.out.dot</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>..но у меня это просто белый квадратик. Я попробовал другой gengraph.php из <a href=https://github.com/eexit/Inclued target=_blank rel="noopener noreferrer">репозитория</a> <a href=http://www.eexit.net/projects/inclued.html#setup target=_blank rel="noopener noreferrer">Йориса Бертелота</a></p>
<div class="codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-text codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">git clone https://github.com/eexit/Inclued.git /Users/artjom/PhpstormProjects/inclued/ </span><br></span><span class=token-line style=color:#393A34><span class="token plain">sudo php /Users/artjom/PhpstormProjects/inclued/Inclued/gengraph.php -i inclued.07576.1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">dot -Tpng -o inclued.png inclued.out.dot</span><br></span><span class=token-line style=color:#393A34><span class="token plain">open inclued.png</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Увы он оказался малость битым, работал только режим зависимости классов, а не файлов, к тому же только в горизонтальном виде. Пришлось немного попатчить, в частности у dot есть режим rankdir = "LR"; с помощью которого сгенерилась красота на 6 мб.. ужас что так много инклудится, но красиво что так это обнаруживается. </p>
<p>Это кстати результат загрузки админ-странички у opensource CRM'ки <a href=http://zurmo.org/download target=_blank rel="noopener noreferrer">zurmo-stable-0.6.90</a>, в основном там не столько Yii сложен, сколько незамороженный <a href=http://redbeanphp.com/ target=_blank rel="noopener noreferrer">Readbean</a>..</p>
<p>Как оказалось чуть позже, граф зависимостей файлов (режим php gengraph.php -T includes) не работал <a href=http://stackoverflow.com/questions/4430864/using-inclued-php-pecl-extension target=_blank rel="noopener noreferrer">из-за конфликта с XDebug</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=gephi>Gephi<a href=#gephi class=hash-link aria-label="Прямая ссылка на Gephi" title="Прямая ссылка на Gephi">​</a></h3>
<p>Если вам как и мне не нравится что XHProf и Inclued полагаются на graphviz и dot для визуализации, то можно воспользоваться более интересным инструментом - Gephi. Тут надо смотреть как вы хотите это анализировать - можно брать наполовину собираемый .dot файл и импортировать его, а поскольку Gephi не умеет кушать json, то как вариант - парсить исходные данные и генерировать что-то типа CSV</p>
<p>Inclued уже сам генерирует inclued.out.dot в указанной папке, поэтому можно использовать его сразу. На выходе имеем..</p>
<p>Для того что-бы нарисовать картинку XHProf, надо чуть изменить файл callgraph_utils.php, в частности функцию xhprof_get_content_by_run. Она передаёт сгенерированный dot-скрипт напрямую в dot утилиту для генерации картинки. Поэтому просто сохраним его на диск для Gephi.. </p>
<div class="language-php codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-php codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">$dotfile = '/tmp/'.time().'.dot';</span><br></span><span class=token-line style=color:#393A34><span class="token plain">touch($dotfile);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$fp = fopen($dotfile,'w+');</span><br></span><span class=token-line style=color:#393A34><span class="token plain">fwrite($fp,$script);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">fclose($fp);</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>С этим несколько проблем. Первая - это полуфабрикат - данные для dot уже агрегированные, есть только label, куда засунули и время, название метода, число вызовов, проценты и тп. Вторая - файл генерируется только когда открыть генерацию графа в png-формате в браузере</div><footer class="row docusaurus-mt-lg"><div class=col><b>Теги:</b><ul class="tags_BNPU padding--none margin-left--sm"><li class=tag_wFKI><a class="tag_mxxo tagRegular_OVld" href=/blog/tags/php>php</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_Y5lg><a href="/blog/tech/backend/php/Drupal 7">Drupal 7</a></h2><div class="container__LhH margin-vert--md"><time datetime=2012-05-30T10:00:00.000Z>30 мая 2012 г.</time> · <!-- -->4 мин. чтения</div></header><div class=markdown><p>среда, 8 августа 2012 г. в 07:20:52</p>
<p><a href=http://drupal.org/ target=_blank rel="noopener noreferrer">Drupal 7</a> это конструктор сайтов (CMF). А это - его краткий обзор на основе того <strong>малого опыта</strong> что у меня был (так что это скорей статья для меня самого). Седьмая версия уже устарела, скоро готовится выйти 8 версия, частично перенявшая symfony framework</p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=если-обобщить>Если обобщить<a href=#если-обобщить class=hash-link aria-label="Прямая ссылка на Если обобщить" title="Прямая ссылка на Если обобщить">​</a></h3>
<p>Основное отличие от CMS - то что схему данных пользователь добавляет сам. Фактически вместо одной таблички БД, часто используется несколько таблиц под каждое поле что с одной стороны даёт <strong>гибкие возможности пользователю</strong> на лету создавать динамические наборы объектов, давать привилегии на него или его свойства, делать многоязычность и многоверсионность.</p>
<p>С другой стороны это отходит от классического понятия реляционного хранения в MySQL - данные, независимо от типа фактически хранятся как bigtable, а бездумные настройки и импорт данных легко могут привести к размеру таблиц в миллион рядов, при каких-нибудь 20к изначальных элементах. Понятно что это сложно поддерживать, оптимизировать и мигрировать в долгосрочной перспективе при росте.</p>
<p>PHP-процессы при загрузке страниц довольно далеки от оптимального и могут занимать 50-70 мб, что вынуждает активно оптимизировать сайты с кешированием на Varnish и Memcache, перекидыванием поиска на Solr, включением opcode кэширования, Nginx и тп.</p>
<p>Теоретически Drupal поддерживает другие БД типа Mongo, но практически многие модули заточены под MySQL.</p>
<p>В плане frontend всё неплохо - "drupal frontend developer" может работать без хорошего IDE, потому что php-шаблоны генерируются из админки со своими названиями и префиксами в зависимости от типа блоков. Поэтому и возникают  компании, как то из местных - <a href=http://www.okia.ee/ target=_blank rel="noopener noreferrer">okia</a>, <a href=http://mekaia.ee/ target=_blank rel="noopener noreferrer">mekaia</a>, <a href=http://www.fenomen.ee/ target=_blank rel="noopener noreferrer">fenomen</a>, банально легко интегрировать дизайн, когда схема тоже сделана в UI.</p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=терминология>Терминология<a href=#терминология class=hash-link aria-label="Прямая ссылка на Терминология" title="Прямая ссылка на Терминология">​</a></h3>
<p>Вот термины которыми оперирует система и стандартный сайт</p>
<ol>
<li>
<p>Content/Entity type концептуально это аналог классов - у них тоже есть свойства (Fields + Properties)</p>
</li>
<li>
<p>Entities - собственно instance классов</p>
</li>
<li>
<p>Nodes (+ Article, Users, Comments, Tags) - тоже по сути Entities, экземпляры классов</p>
</li>
<li>
<p>Views, Regions, Panels. Динамические (могут вызывать методы)</p>
</li>
<li>
<p>Menus - древовидная структура меню. Элементы могут быть привязаны к странице и её частям. Доступ по URL могут</p>
</li>
<li>
<p>Modules. Собственно функционал.</p>
</li>
<li>
<p>Themes. Аналогично модулям, только для стилей (CSS)</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=структура-админки>Структура админки<a href=#структура-админки class=hash-link aria-label="Прямая ссылка на Структура админки" title="Прямая ссылка на Структура админки">​</a></h3>
<ul>
<li>Content - редактирование статей и прочего содержания клиентом</li>
<li>Structure - порядок размещения блоков, изменение типов данных</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=структура-бд-и-пример-запроса>Структура БД и пример запроса<a href=#структура-бд-и-пример-запроса class=hash-link aria-label="Прямая ссылка на Структура БД и пример запроса" title="Прямая ссылка на Структура БД и пример запроса">​</a></h3>
<p>Центральное место - табличка node, на которой и завязано всё содержимое. Пример запроса..</p>
<div class="codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-text codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">db_query("SELECT * FROM node LIMIT 5")->fetchField();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">fetchObject(); </span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><img decoding=async loading=lazy src="/assets/images/Pasted image 20241019193416-21d3e01091e21201fb33829d7e95486e.png" width=2553 height=2399 class=img_sJtY></p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=качество-кода>Качество кода<a href=#качество-кода class=hash-link aria-label="Прямая ссылка на Качество кода" title="Прямая ссылка на Качество кода">​</a></h3>
<p>Код - необъектное говно. Нет классов, интерфейсов, пространства имён. Сплошь и рядом используются глобальные переменные, поэтому юнит тестами покрыть его нельзя. Модули состоят из набора обычных функций со своеобразной практикой наименования, например приватные функции имеют _ префикс.  Впрочем, если сравнивать с Joomla, то архитектура более предсказуемая.</p>
<p>Хуки (специально названные функции) меняют данные на лету, если существует функция c похожим именем, проходя по всем модулям. Отсюда и тормоза и гейзенбаги. Например предлагая hook_foo_bar будет вызван baz_foo_bar в модуле baz. </p>
<p>Есть свой формат для кода, но он не PSR, использует пробелы вместо табов. PHPStorm можно настроить с правилами <a href=http://drupal.org/project/eclipse_code_validator target=_blank rel="noopener noreferrer">Code_Sniffer скачав из модуля</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=drush>Drush<a href=#drush class=hash-link aria-label="Прямая ссылка на Drush" title="Прямая ссылка на Drush">​</a></h3>
<p><a href=http://drush.ws/ target=_blank rel="noopener noreferrer">Drush</a> это консольная утилита, облегчающая рутину, в частности очистку кэша. </p>
<p> </p>
<p>Ставится просто, но нуждается в связи с локальным mysql</p>
<div class="codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-text codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">pear channel-discover pear.drush.org </span><br></span><span class=token-line style=color:#393A34><span class="token plain">sudo pear install drush/drush </span><br></span><span class=token-line style=color:#393A34><span class="token plain">sudo ln -s /tmp/mysql.sock /var/mysql/mysql.sock</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p> </p>
<p>Теперь, находясь в папке проекта можно быстро ставить модули и чистить кэш</p>
<div class="codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-text codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">drush dl module_name </span><br></span><span class=token-line style=color:#393A34><span class="token plain">drush en module_name </span><br></span><span class=token-line style=color:#393A34><span class="token plain">drush cc all</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p> </p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=модули>Модули<a href=#модули class=hash-link aria-label="Прямая ссылка на Модули" title="Прямая ссылка на Модули">​</a></h3>
<p>У каждого своя папка с файлами .info и .module. По важности выделяются четыре типа, код лежит в разных местах</p>
<ol>
<li>
<p>core, optional core (/modules)</p>
</li>
<li>
<p>contrib modules (sites/all/modules),</p>
</li>
<li>
<p>custom modules (sites/default/modules) + VCS symlink </p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_CPg9" id=важные-модули>Важные модули<a href=#важные-модули class=hash-link aria-label="Прямая ссылка на Важные модули" title="Прямая ссылка на Важные модули">​</a></h4>
<table><thead><tr><th><th><th><tbody><tr><td>- Views- Rules - для ограничений (форм)- Pathauto & token - для ЧПУ- Devel - для дебага- Wysiwyg / inline images- Context- Flags- Entity API- Menu Block- Menu Breadrumb       - Module filter<td>- Chart APi- Features- Feeds- Custom formatters- SmartCrop- File Entity- IMCE- Media - CAPTCHA<td>- OAuth- Entity tokens- Image crop- Job scheduler- Multiblock- Pathauto- Token- Google analytics- Webform- Chaos tools</table>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=дистрибутивы>Дистрибутивы<a href=#дистрибутивы class=hash-link aria-label="Прямая ссылка на Дистрибутивы" title="Прямая ссылка на Дистрибутивы">​</a></h3>
<ul>
<li>
<p><a href=http://drupal.org/project/commerce_kickstart target=_blank rel="noopener noreferrer">Commerce Kickstart</a> </p>
</li>
<li>
<p><a href=http://openatrium.com/ target=_blank rel="noopener noreferrer">Open Atrium</a> </p>
</li>
<li>
<p><a href=http://drupal.org/project/redhen target=_blank rel="noopener noreferrer">RedHen CRM</a> </p>
</li>
<li>
<p><a href=http://drupal.org/project/openpublish target=_blank rel="noopener noreferrer">Open Publish</a> </p>
</li>
<li>
<p><a href=http://videola.tv/ target=_blank rel="noopener noreferrer">Videola</a> </p>
</li>
<li>
<p><a href=http://drupal.org/project/julio target=_blank rel="noopener noreferrer">Julio</a> </p>
</li>
<li>
<p><a href=http://drupal.org/project/openpublic target=_blank rel="noopener noreferrer">OpenPublic</a> </p>
</li>
<li>
<p><a href=http://drupal.org/project/cod target=_blank rel="noopener noreferrer">COD (Conference Organizing Distribution)</a> </p>
</li>
<li>
<p><a href=http://pressflow.org/ target=_blank rel="noopener noreferrer">Pressflow</a> </p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=почитать>Почитать<a href=#почитать class=hash-link aria-label="Прямая ссылка на Почитать" title="Прямая ссылка на Почитать">​</a></h3>
<ul>
<li><a href=http://drupal.org/node/1576418 target=_blank rel="noopener noreferrer">Drupal 7 - the essentials</a></li>
<li><a href=http://api.drupal.org/api/drupal target=_blank rel="noopener noreferrer">API reference</a> </li>
<li>drupal.org/project/<strong>машинное_имя_модуля</strong></li>
<li><a href=http://tiger-fish.com/blog/setting-jetbrains-phpstorm-use-drupal-ide target=_blank rel="noopener noreferrer">Setting up Jetbrains PhpStorm for use as a Drupal IDE</a></li>
<li><a href=http://blog.jetbrains.com/webide/2012/03/new-in-4-0-drupal-coding-style-support/ target=_blank rel="noopener noreferrer">Drupal formatting</a></li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Теги:</b><ul class="tags_BNPU padding--none margin-left--sm"><li class=tag_wFKI><a class="tag_mxxo tagRegular_OVld" href=/blog/tags/php>php</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_Y5lg><a href="/blog/tech/backend/php/Оптимальные структуры данных в PHP">Оптимальные структуры данных в PHP</a></h2><div class="container__LhH margin-vert--md"><time datetime=2012-03-10T10:00:00.000Z>10 марта 2012 г.</time> · <!-- -->3 мин. чтения</div></header><div class=markdown><p>Как известно, родных типов данных в php немного. На самом деле в программировании, типов данных конечно же неограниченное множество, особенно когда дело касается деревьев (<a href=http://en.wikipedia.org/wiki/AA_tree target=_blank rel="noopener noreferrer">AA</a>, <a href=http://en.wikipedia.org/wiki/M-tree target=_blank rel="noopener noreferrer">M</a>, <a href=http://en.wikipedia.org/wiki/Kd_tree target=_blank rel="noopener noreferrer">k-d</a> и прочая)</p>
<p><a href=http://php.net/manual/ru/book.spl.php target=_blank rel="noopener noreferrer">Стандартная библиотека php</a> кроме интерфейсов итераторов и автоподгрузки классов предоставляет и более оптимальные типы данных.</p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=массивы>Массивы<a href=#массивы class=hash-link aria-label="Прямая ссылка на Массивы" title="Прямая ссылка на Массивы">​</a></h3>
<p>Что случается когда вы пытаетесь сделать универсальное и "простое" решение? <a href=http://nikic.github.com/2011/12/12/How-big-are-PHP-arrays-really-Hint-BIG.html target=_blank rel="noopener noreferrer">Overhead с памятью</a>. Дело в том что массивы в php на самом деле не массивы. Это сбивает немного с толку, но настоящий массив должен быть таким:</p>
<p><img decoding=async loading=lazy src="/assets/images/Pasted image 20241019200704-4d863cb9216f7af58d1ddf94ef467707.png" width=1024 height=437 class=img_sJtY></p>
<p>В php же массивы могут расти и итерироваться. Это реализуется <strong>списком с двойными ссылками</strong> (на следующий и предыдущий элементы). И конечно же массивы ассоциативные - ключи не обязаны быть упорядоченными int'ами - может и строка быть. А это всё усложняет - нужна <a href=http://programmers.stackexchange.com/questions/59344/im-trying-to-understand-hash-tables-can-someone-explain-it-to-me-clearly target=_blank rel="noopener noreferrer">хэш-таблица</a>, хэш функция, система коллизий. И как следствие дополнительная инфраструктура...</p>
<p><img decoding=async loading=lazy src="/assets/images/Pasted image 20241019200717-49010a88db476aeb0dd5230835725f88.png" width=1024 height=773 class=img_sJtY></p>
<p>Именно поэтому такой код выдаст не упорядоченный по индексу текст..</p>
<div class="language-php codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-php codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">$bar = array();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">for ($i = 7; $i >= 0; --$i) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$bar[$i] = $i;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">echo implode(' ', $bar);</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>... а то как данные инициализировались: 7 6 5 4 3 2 1 0</p>
<p>Из-за того что новичка не заставляют думать о структуре данных, как то делают в Java, выходит неоптимальное использование памяти. Для поддержки таких низкоуровневых массивов есть <strong>SplFixedArray</strong> который на 25-40% быстрей массивов, а также SplStack с SplQueue. </p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=структуры>Структуры<a href=#структуры class=hash-link aria-label="Прямая ссылка на Структуры" title="Прямая ссылка на Структуры">​</a></h3>
<p>Из-за своей простоты и лёгкой инициализации, массивы стали типичными контейнерами данных - их возвращает какой-нибудь адаптер БД как результат, его передают между собой методы где одним параметром не обойтись, он же итерируется или распаковывается в шаблонизаторах. </p>
<p>Но я в своём движке использую объекты. Начиная с 5.4, объекты легче чем массивы. Из-за фиксации параметров классов и большей строгости, возможны подсказки при работе в IDE. Я умолчу об ООП - дополнительный методы у контейнеров могут добавить больше сложности чем решить.</p>
<h2 class="anchor anchorWithStickyNavbar_CPg9" id=множества>Множества<a href=#множества class=hash-link aria-label="Прямая ссылка на Множества" title="Прямая ссылка на Множества">​</a></h2>
<p>Когда порядок не имеет особого значения, можно использовать множества. Конечно с массивами можно проводить такие же операции сложения (array_merge), вычитания (array_diff), пересечения (array_intersect) и проверки на присутствие (in_array), но как вы уже поняли, поиск по значению довольно медленный и вместо этого следует использовать поиск по ключу. Особенно если вы храните объекты:</p>
<div class="language-php codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-php codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">$mySet = array();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$mySet(spl_object_hash($obj1)) = $obj1;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$mySet(spl_object_hash($obj2)) = $obj2;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">isset($mySet(spl_object_hash($obj1))); //проверка вместо in_array</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$mySet + $yourSet; //сложение работает потому что нет коллизий ключей</span><br></span><span class=token-line style=color:#393A34><span class="token plain">array_intersect_key($mySet, $yourSet); // пересечение по ключу</span><br></span><span class=token-line style=color:#393A34><span class="token plain">array_diff_key($mySet, $yourSet); // вычитание</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=куча>Куча<a href=#куча class=hash-link aria-label="Прямая ссылка на Куча" title="Прямая ссылка на Куча">​</a></h3>
<p>Heap это просто такое дерево, ключи элементов которого распределяются по старшинству. Кучи часто используются в алгоритмах с графами. В php для этого есть SplHeap, SplMaxHeap и SplMinHeap, которые в сотни раз быстрей массивов.</p>
<p>Обобщение кучи это очередь с приоритетом - SplPriorityQueue, где порядок не FIFO/LIFO, а как вы догадались, согласно заданной важности</p>
<div class="language-php codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-php codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">$priorityQueue = new SplPriorityQueue();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$priorityQueue->insert("Putin", 60);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">$priorityQueue->insert("Zjuganov", 15);</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><img decoding=async loading=lazy src="/assets/images/Pasted image 20241019200734-c7d9cd79c94e5a7b5d5309d81bddf2ce.png" width=817 height=1024 class=img_sJtY></div><footer class="row docusaurus-mt-lg"><div class=col><b>Теги:</b><ul class="tags_BNPU padding--none margin-left--sm"><li class=tag_wFKI><a class="tag_mxxo tagRegular_OVld" href=/blog/tags/php>php</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_Y5lg><a href="/blog/tech/backend/php/Статический и динамический анализ php-кода">Статический и динамический анализ php-кода</a></h2><div class="container__LhH margin-vert--md"><time datetime=2011-08-15T10:00:00.000Z>15 августа 2011 г.</time> · <!-- -->4 мин. чтения</div></header><div class=markdown><p>Автоматический анализ кода (<em>static code analysis</em>) очень полезен на больших проектах и он часто встраивается в серверы <a href=http://www.martinfowler.com/articles/continuousIntegration.html target=_blank rel="noopener noreferrer">непрерывной интеграции</a>. Некоторые IDE уже поставляются с простыми аналитическими инструментами, но первые всё-таки предпочтительней, потому что туда смотрит вся комманда. Всё что этот софт делает это периодически смотрит в систему версионирования (SVN) и строит график качества (и например запускает юнит-тесты). По сути это аналог комплекса упражнений для человека, поддерживающих <a href=http://ithappens.ru/story/7693 target=_blank rel="noopener noreferrer">хорошее здоровье</a> и бъющих тревогу если возникает рак спагетти-кода.</p>
<p>Самые известные CI-серверы:</p>
<ul>
<li>
<p><a href=http://hudson-ci.org/ target=_blank rel="noopener noreferrer">Hudson</a> и его бесплатный двойник <a href=http://jenkins-ci.org/ target=_blank rel="noopener noreferrer">Jenkins</a> (на java, много модулей) → есть <a href=http://jenkins-php.org/ target=_blank rel="noopener noreferrer">шаблон</a></p>
</li>
<li>
<p><a href=http://cruisecontrol.sourceforge.net/ target=_blank rel="noopener noreferrer">CruiseControl</a></p>
</li>
<li>
<p>Atlassian <a href=http://www.atlassian.com/software/bamboo/ target=_blank rel="noopener noreferrer">Bamboo</a></p>
</li>
<li>
<p>Jetbrains <a href=http://www.jetbrains.com/teamcity/ target=_blank rel="noopener noreferrer">TeamCity</a></p>
</li>
<li>
<p><a href=http://trac.buildbot.net/ target=_blank rel="noopener noreferrer">BuildBot</a></p>
</li>
<li>
<p><a href=http://code.google.com/p/xinc/ target=_blank rel="noopener noreferrer">Xinc<br>
</a></p>
</li>
<li>
<p><a href=http://arbitracker.org/arbit/about.html target=_blank rel="noopener noreferrer">Arbit</a> (включает в себя project management и bugtracker)</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=статический-анализ-кода-и-его-метрики>Статический анализ кода и его метрики<a href=#статический-анализ-кода-и-его-метрики class=hash-link aria-label="Прямая ссылка на Статический анализ кода и его метрики" title="Прямая ссылка на Статический анализ кода и его метрики">​</a></h3>
<p>В целом, статический анализ кода сводится к оценке метрик кода с поиском потенциальных проблем. Начиная с банальных необъявленных или не использующихся переменных и заканчивая поиском дубликатов. Метрики позволяют оценить цену и сложность проекта для планирования дальнейших работ, позволяют оценить влияние от новых методологий и инструментов, уменьшают время поиска проблемных мест как по пакетам так и по разработчикам.</p>
<p>Метрик <a href=http://www.aivosto.com/project/help/pm-list.html target=_blank rel="noopener noreferrer">очень много</a> и каждый аналитический инструмент по разному их формулирует и сокращает, поэтому единой картинки добиться сложно, хотя и есть закономерность в шагании по стопам java</p>
<h4 class="anchor anchorWithStickyNavbar_CPg9" id=размерные-метрики>Размерные метрики<a href=#размерные-метрики class=hash-link aria-label="Прямая ссылка на Размерные метрики" title="Прямая ссылка на Размерные метрики">​</a></h4>
<ul>
<li>NOP - число пакетов</li>
<li>NOC - число классов → Число классов в пакете (Java =17, C++=19)</li>
<li>NOM - число методов → Число методов в классе (Java = 7, C++ = 9)</li>
<li>LOC - число строк → Ошибок/KLOC, Документации/KLOC</li>
<li>IOp - число параметров входа/выхода</li>
<li>IOg - число переменных вызываемых методом (классовых и глобальных, не локальных)</li>
<li>IOvar = IOp + IOg</li>
<li>CS - число атрибутов и методов. Может указывать на слишком большую ответственность одного класса</li>
<li>NOO - число переписанных родительских методов в дочерних классах. Указывает на высокую или низкую абстракцию</li>
<li>NOA - число новых методов в зависимости от глубины наследования</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_CPg9" id=метрики-наследования>Метрики наследования<a href=#метрики-наследования class=hash-link aria-label="Прямая с�сылка на Метрики наследования" title="Прямая ссылка на Метрики наследования">​</a></h4>
<ul>
<li>ANDC - среднее число наследующих классов (Java = 0.41, C++ = 0.28)</li>
<li>AHH - средняя высота иерархии (Java = 0.21, C++ = 0.13)</li>
<li>MIF = число унаследованных но не перезаписанных методов / общее число методов, указывает на степень абстракции или специализации класса (значение от 0 до 1)</li>
<li>PF - фактор наследования = число наследуемых методов / (число новых методов * число дочерних классов ), показывает насколько используются наследуемые методы (значение от 0 до 1)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_CPg9" id=метрики-сложности>Метрики сложности<a href=#метрики-сложности class=hash-link aria-label="Прямая ссылка на Метрики сложности" title="Прямая ссылка на Метрики сложности">​</a></h4>
<ul>
<li>CF - фактор связанности двух классов (т.е. один класс вызывает или использует методы/свойства другого класса) = число вызовов / максимальное число вызовов (значение от 0 до 1)</li>
<li>CALLS - число вызовов методов</li>
<li>FANOUT- число (вызываемых ) классов → (fin+fout)2 * len</li>
<li>Структурная сложность = CALLS 2</li>
<li>Сложность данных SC = IOvar / (CALLS +1)</li>
<li>Цикломатическая сложность CC = число решений / число строк (Java = 0.2, C++ = 0.25). Разные научные определения (<a href=http://en.wikipedia.org/wiki/Halstead_complexity_measures target=_blank rel="noopener noreferrer">Halstead</a>, McCabe, McClure)</li>
<li>Системная сложность: SYSC = SC + SD</li>
</ul>
<p>Некоторые программы ещё измеряют степень безопасности через число точек прямого входа, т.е. использования параметров GET, POST, SESSION, FILE. </p>
<h4 class="anchor anchorWithStickyNavbar_CPg9" id=инструменты>Инструменты<a href=#инструменты class=hash-link aria-label="Прямая ссылка на Инструменты" title="Прямая ссылка на Инструменты">​</a></h4>
<p>Для php таких аналитических программ относительно мало — есть консольные узкоспециализированные программки:</p>
<ul>
<li>
<p><a href=http://pdepend.org/ target=_blank rel="noopener noreferrer">Depend</a> - использует некоторые приведённые выше метрики для анализа сложности <code>pdepend --overview-pyramid=out.svg my_project_namepdepend --jdepend-chart=out2.svg my_project_name   pdepend --jdepend-xml=out.xml my_project_namedependencies.php out.xml -o out3.svg</code></p>
</li>
<li>
<p><a href=http://phpmd.org/ target=_blank rel="noopener noreferrer">Mess detector</a> - ищет неиспользуемый код и сложные выражения <code>phpmd my_project_name text phpmd.xml</code></p>
</li>
<li>
<p><a href=http://pear.php.net/package/PHP_CodeSniffer/ target=_blank rel="noopener noreferrer">Code sniffer</a> - проверяет названия методов и переменных согласно правилам из XML-файла настроек <code>phpcs --standard=CodeREview --report-source my_project_name</code></p>
</li>
<li>
<p><a href=https://github.com/sebastianbergmann/phpdcd target=_blank rel="noopener noreferrer">Dead code detector</a> ищет невызываемый код</p>
</li>
<li>
<p><a href=https://github.com/sebastianbergmann/phpcpd target=_blank rel="noopener noreferrer">Copy-paste detector</a></p>
</li>
<li>
<p><a href=http://github.com/sebastianbergmann/phploc target=_blank rel="noopener noreferrer">phploc</a> - оценивает размер<br>
<code>phploc my_project_name</code></p>
</li>
<li>
<p><a href=http://www.icosaedro.it/phplint/ target=_blank rel="noopener noreferrer">PHPLint</a> - проверяет синтаксис и генерирует документацию</p>
</li>
<li>
<p><a href=https://github.com/colder/phantm target=_blank rel="noopener noreferrer">Analzer for Type Mismatches</a> - ищет возможные ошибки с несовместимостью типов</p>
</li>
</ul>
<p>Ещё есть чуть более <strong>общие</strong> <a href=http://pmd.sourceforge.net/ target=_blank rel="noopener noreferrer">PMD</a> (на java) и <a href=http://www.program-transformation.org/PHP/PhpSat target=_blank rel="noopener noreferrer">phpsat</a>, <strong>специализированные</strong> <a href=http://www.php-security.org/2010/05/24/mops-submission-09-rips-a-static-source-code-analyser-for-vulnerabilities-in-php-scripts/index.html target=_blank rel="noopener noreferrer">RIPS</a>, <a href=https://www.fortify.com/ssa-elements/threat-intelligence/rats.html target=_blank rel="noopener noreferrer">RATS</a> (как вариант Fortify360 + Jenkins), <a href=http://yasca.org/ target=_blank rel="noopener noreferrer">Yasca</a>, <a href=http://pixybox.seclab.tuwien.ac.at/pixy/ target=_blank rel="noopener noreferrer">Pixy</a> и <strong>агрегаторы</strong> всего что только можно - PHPUnit,  <a href=http://www.icosaedro.it/phplint/ target=_blank rel="noopener noreferrer">PHPLint</a>, <a href=http://www.sonarsource.org/ target=_blank rel="noopener noreferrer">Sonar</a></p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=динамический-анализ-кода>Динамический анализ кода<a href=#динамический-анализ-кода class=hash-link aria-label="Прямая ссылка на Динамический анализ кода" title="Прямая ссылка на Динамический анализ кода">​</a></h3>
<p>В отличие от статического анализа, здесь система должна работать. Причём нас на этом этапе заботят - скорость работы всей системы (и узкие места) и логическая безошибочность. Соответсвенно решается это</p>
<ul>
<li>Покрытие кода тестами (Statement, Branch, Path coverage)</li>
<li>Граф скорости загрузки и использования памяти в зависимости от методов</li>
</ul>
<p>Инструменты</p>
<ul>
<li>
<p>Selenium</p>
</li>
<li>
<p>XDebug</p>
</li>
<li>
<p>Zend Server</p>
</li>
<li>
<p><a href=http://kcachegrind.sourceforge.net/html/Home.html target=_blank rel="noopener noreferrer">KCachegrind</a>, Webgrind, <a href=http://code.google.com/p/cachegrindvisualizer/ target=_blank rel="noopener noreferrer">cachegrindvisualizer</a></p>
</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Теги:</b><ul class="tags_BNPU padding--none margin-left--sm"><li class=tag_wFKI><a class="tag_mxxo tagRegular_OVld" href=/blog/tags/php>php</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_Y5lg><a href="/blog/tech/backend/php/Анализ ошибок с XDebug и PHPStorm 2.0">Анализ ошибок с XDebug и PHPStorm 2.0</a></h2><div class="container__LhH margin-vert--md"><time datetime=2011-03-03T10:00:00.000Z>3 марта 2011 г.</time> · <!-- -->2 мин. чтения</div></header><div class=markdown><p><a href=http://www.xdebug.org/ target=_blank rel="noopener noreferrer">XDebug</a> это отличный php-модуль для правильного дебага приложения, который в «старших» языках (читай - не <em>интерпретируемых</em>) уже сразу был встроен в компилятор. Необходимость в полноценном дебаге очевидная в сложных приложениях, где воспроизведение ошибки занимает относительно много времени, а объём данных не позволяет копаться в мегабайтах от <em>print_r()</em>, хотя этот модуль <a href=http://habrahabr.ru/blogs/php/31452/ target=_blank rel="noopener noreferrer">позволяет и такие отчёты</a></p>
<p><img decoding=async loading=lazy src="/assets/images/Pasted image 20241019200948-c7ebeefb4b4d429387b7636bb80b9926.png" width=1024 height=607 class=img_sJtY></p>
<p>Посколько xdebug это модуль, то не на всяком shared-хостинге он имеется и поэтому подразумевается что разработчик подымет у себя php+xdebug сам. После этого в php.ini включается модуль и его настройки по умолчанию. Заметьте что remote_host по IP ограничивает число работающих с дебагерром.</p>
<div class="codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-text codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">extension=C:\Program Files\php\ext\php\xdebug-2.1.0-5.3-vc9.dll</span><br></span><span class=token-line style=color:#393A34><span class="token plain">xdebug.profiler_enable = 1 </span><br></span><span class=token-line style=color:#393A34><span class="token plain">xdebug.remote_host=127.0.0.1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">xdebug.remote_port=9000</span><br></span><span class=token-line style=color:#393A34><span class="token plain">xdebug.remote_handler=dbgp</span><br></span><span class=token-line style=color:#393A34><span class="token plain">xdebug.idekey=</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Для правильного дебага надо соединить IDE и модуль Xdebug, что-бы последний остановил работу php и передал данные всех переменных в PHPStorm:</p>
<ol>
<li>
<p>Включить прослушивание 9000 порта в PHPStorm и режим дебага в IDE через Shift+F9 или из меню Run/Debug.
<img decoding=async loading=lazy src="data:image/png;base64,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" width=500 height=62 class=img_sJtY></p>
</li>
<li>
<p>Прописать в куки режим дебага что-бы X-debug на удалённом сервере понял когда ему стоит работать. Jetbrains сделали <a href=http://www.jetbrains.com/phpstorm/marklets/ target=_blank rel="noopener noreferrer">генератор букмарков</a> для простой работой с печеньками. Второй вариант - специальные плагины для браузеров. Параметр Ide key вводится такой же как и в настройках IDE и в php.ini</p>
</li>
</ol>
<p>Теперь можно поставить breakpoint на любой строке. Проблемы начинаются когда данные таки начинают бегать -  если удалённый сервер на линуксе, а у вас винда то естественно пути которые на линуксе не совсем соответсвуют той иерархии кода которую видет PHPStorm. Благо эта проблема решается <a href=http://blogs.jetbrains.com/webide/2011/02/zero-configuration-debugging-with-xdebug-and-phpstorm-2-0/#more-1364 target=_blank rel="noopener noreferrer">маппингом папок</a> на нужное место. Вторая проблема - закрытый код. XDebug как ни в чём не бывало выдаёт все пути что запускалось.. а IDE ведь не может этого проверить.</p>
<p><img decoding=async loading=lazy src="/assets/images/Pasted image 20241019201016-afb052e90e050366e9e5dfcacaa39288.png" width=920 height=911 class=img_sJtY></p>
<p>Наконец главная проблема - как выкидывать trace автоматически при возникновении ошибки, без установки breakpoint? Я частично решил для себя эту проблему используя свой регистратор ошибок вместе с xdebug_break(), проблема в том что фатальные ошибки не до конца показывают stack trace.</p>
<div class="language-php codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-php codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">function ErrorHandler($errno, $errstr, $errfile, $errline) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    if (!in_array($errno,array(E_NOTICE,2048))) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        xdebug_break();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        restore_error_handler();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        trigger_error($errno.$errstr." in ".$errfile." on line ".$errline."; showed by error handler ");</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">function shutDownFunction() {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    if(!is_null($e = error_get_last())){</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        xdebug_break();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">function exceptionHandler($exception) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    xdebug_break(); </span><br></span><span class=token-line style=color:#393A34><span class="token plain">    restore_exception_handler();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">set_error_handler('ErrorHandler');</span><br></span><span class=token-line style=color:#393A34><span class="token plain">register_shutdown_function('shutdownFunction');</span><br></span><span class=token-line style=color:#393A34><span class="token plain">set_exception_handler('exceptionHandler');  </span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class=col><b>Теги:</b><ul class="tags_BNPU padding--none margin-left--sm"><li class=tag_wFKI><a class="tag_mxxo tagRegular_OVld" href=/blog/tags/php>php</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_Y5lg><a href="/blog/tech/backend/php/PHP frameworks">PHP frameworks</a></h2><div class="container__LhH margin-vert--md"><time datetime=2009-10-10T10:00:00.000Z>10 октября 2009 г.</time> · <!-- -->5 мин. чтения</div></header><div class=markdown><p>суббота, 10 октября 2009 г. в 23:32:55</p>
<p>Как можно уже заметить в моём блоге, я уделяю дотошное внимание используемому языку и смыслу слов, поэтому термин <em>фреймворк</em> мне не нравится, вместо этого по-моему правильней говорить о <strong>каркасе</strong> или скелете приложения.</p>
<p>Выбор современных каркасов для php достаточно широк. Меня всегда интересовала именно внутренняя структура запуска типичного приложения, поэтому постараюсь описать их именно с этой стороны. </p>
<p><img decoding=async loading=lazy src=data:image/png;base64,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 width=400 height=50 class=img_sJtY></p>
<p><a href=http://codeigniter.com/ target=_blank rel="noopener noreferrer">Codeigniter</a> 1.7.6 - легковесный (1 mb) и простой в освоении. За основу берётся MVC-паттерн, популяризированная в ruby on rails. Основное приложение лежит в <em>application</em> папке, делится в свою очередь на контоллеры, шаблоны и модели, кроме того папки - errors, helpers, language, config и hooks.  Классы контроллеров соответсвенно наследуют <em>Controller</em> и по умолчанию запускается index-метод, шаблоны показываются через this->load->view(имя_шаблона, передаваемые_переменные).</p>
<p>Из полезного замечены классы валидации форм, работы с изображениями (imagemagick, watermark), trackback-запросов для статей в блогах, автогенерация кода (scaffolding). Само собой поддержка разных бд (mssql, mysql, postgre, oracle, sqlite). Итого получается достаточно типично - одно приложение, разбитое по контроллерам. Идеальный фреймворк для минималистов типа меня.</p>
<p>Сайт очень позитивный - вики, видео примеры, форумы и багтрекер.</p>
<p><img decoding=async loading=lazy src="data:image/png;base64,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" width=400 height=50 class=img_sJtY></p>
<p><a href=http://www.symfony-project.org/ target=_blank rel="noopener noreferrer">Symfony</a> 1.3a от Sensio Labs позиционируется как более тяжёлый каркас (15 mb!). Та же MVC, но теперь с использованием ORM (<a href=http://propel.phpdb.org/trac/ target=_blank rel="noopener noreferrer">Propel</a> или <a href=http://www.doctrine-project.org/ target=_blank rel="noopener noreferrer">Doctrine</a>). Из ещё полезных фишек - кеширование шаблонов, scaffolding, многоязычность, чпу, недоступность исполняемых файлов от публичного каталога апача (как следствие - безопасность), настройка среды где проект вертится (development, testing, production). В минусы я бы отнёс привязку к JS библиотеке (Prototype), достаточная тяжеловесность по оперативке и времени из-за отсутсвия lazy loading классов (sic!) и опять же ORM.</p>
<p>Ещё одной особенностью является использование <strong>YAML</strong> в качестве файлов настроек. Если смотреть пример установки тестового (sandbox) приложения то видно что есть работа с консолью по автогенерации файлов моделей. Приложения в свою очередь состоят не только из моделей (обеспечивающим интерфейсы к бд), но и из модулей (с CRUD-действиями и интерфейсами).</p>
<p>По запуску процесса мне показалось очень сложным. Надо прописывать настройки в .yml файлах, что-бы сгенерировать всей файлы. Потом по идее грузится front controller, который вызвает модуль и в нём уже метод (по умолчанию - executeIndex) и вызывает шаблон indexSuccess.php</p>
<p>Сайт тоже достаточно путанный и быстрого погружения не даёт, а если распечатать примеры создания приложения, то из них получится более 10 страниц текста.</p>
<p><img decoding=async loading=lazy src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAAyCAIAAAD9fhrKAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABkKADAAQAAAABAAAAMgAAAADainCfAAAP0ElEQVR4Ae2dC4wc913H57UzszM7+773a3vn5BzHie2YJHVJSIhs1NKGgoQEbYWIoFCBIU4hCFQBAhRBgUq0FBoFpFZtRYjaQtoEFUJT6jzcNHGcJqkd++yL1+d77d7t6/Y1s/PkO7u+89357CZ3Z6e5/f11up35739mdj67+ur3+83v//uzzJ0fYt5mE23zbR5xtYezphC42teg8xMBIvCOExDW8QlMQVzHUXQIESACRGCDBLgNHk+HEwEiQASuGYF3SLA8j3Hda3aTdCEiQAS2BoFrJFgsyzIQKfyhuW4wGOzq6rqoWa7rD6BGBIgAEbgigWsiWK7b1dk5NDQUEATGtgOBwODAQE9vbzKZxC5kKxqLbRseRv8FRbviJ6Y3iQARaFsC6wm6vxVYsJe8lt/HsgFRjMfj0KOgHMxmMpAnORh0HKenp8eFtaUoiUSC47hELJaZnWVaphZ3TZT0rdwJjSECROAnhgDPDF2/+R/GdeOxGGwoOHq2ZSWSyXA4DIXiBT4SjYqiCJ3yL8oykUhEURTsQt0kUSxXypIsd3R2JuKJcrncdCA3/9PRGYkAEXiXErhaFpaqqJFIOBQKQbBYjoNaARBUCe0iKUTe/V2/B/2CEBgZHuEFged5jA8IgYbZuGBwXTyGtogAEWhfApsqWLCbFvVIkiXHgeXkQoCWiRSLEX6/L1z+UJhgHMvycAh9T9ATAgF0Q63QERADjXqNgW+It8hDbN+fKN05EbhIYPMEy/MSHUk5INu2CX9PlMSmIjUjWSxrOY5hNATXCQX4Hk0JS5IsClAqw2zolj1fqZUbVsNjA5IkBQJ4oAjxQthLliShaXDN53KmaZK1dfF7oy0i0JYENlOwFFlJdiT9+BSspKYVBaSm45p6fTgWumv3ze+76YbrBvuT8ZgaDDaNJpZxHcuyc8Xi+ZnMsbEzh0+MvTqVdQRJEcVoNBKLxSBSsLhy+Xxbfjt000SACKwgwK5jLuGKEyztuG53T29XV2crXIVuuHs1o9GvCAd//p4P3LFPC0eWxl5uw7OtF374+heefOr7E1kE42Fq4SSObZ8eH0csjCysy3GjfiLQJgQ24ykhTKqmVaWEVE3TWp4g8OmWtbcn8aUHD96+ZzdcwFVADcOAu7eqk+X4gb7eX7zj9oXc/LH0FMJYiGxBAfP5POwsP0CGeFYr72HVkbRLBIhAGxDYqGDBAopGIvFEoqOzQwuHl4j5YSzHevjgb6SGBpc6l2+cfOONx77+cHmhZlleMKiK4sVyCyzP33nzju+9+HKm1uA5Pyof1jRVVWVZtqFeyDUlzVqOkraJQNsQWG3jvO0bd92Ojg41FGrlUi2ZV5bjjkbU7SOpy51wx407Xzvx3fMTL6THf8hxcizR3T8wPNA/DKdSEDhelPamel/NnpCEIORJVpSgqkK5jEajYRgkWJejSv1EYGsT2KiFBWeQ43l4gn6sfVlD7pVZWfjA3l2R6NqhKyQyJOND6TdP9fTEJYmTxbLROHNm7NVTJ09PTU3rNeM/n39pruEIfDPlvZktYTYas9msr4lkYS1DTZtEoH0IbFiw8BzQtuPRGDKnllODq2ibxnWalUpd708SXKtpYa1QrOTzU5iyE08K0Thy3GPJRDIg6M8/+3+PHz0dTHYx3gUdRDZpoVCoFIsMz691MuojAkRg6xNYoTJv+3b92TZCLBrFJJslZ7B1EgTLLTbAisbEmy+/OT4OT27Nk793391zWSObzZpGw7E9nlM4TkgkYqIsOgLi9H4SfKt5nosYlhrSWgH+xW56JQJEoI0IrN/CQkQp2dHR39eHbKlVatXkx+qmeXsqsX/fLQu16tRktpDP++Enz89UaGa2Q9MYGF8sJ81On/JYJ5OpGbqAt1Q1+L0jrx0vs6IcXNIsOIIQrFg8pgSDDdOkLIc2+pHSrRKBRQLrD7pDpMJaGHUXbDy2W6N5DC+cnSrCYurv70ml4rWaXioWp6enrWXjIV6o5qBFQttHozWdM+pKbr6Yny++OTkvBLuX1Kp1eoTJMBrTpwuFou7VKZK1BnXqIgJbmsAGBMt1p6anRuQRRJfWsrAYVL86dT53evzc4LZRjvMD82hLMFtPFWFPNUxnYuIZvWEqwY5wKNbZGTfq9YJu81HRT7xa2TB+bm6+vFCiSNZKMLRHBNqCwAZiWNCaej2TycDqWRsVuuUgz7Injo9lM82ne8vGQXqgdDjWtsxioXZ6rHAuXSwWSzjI0PWyzXDC6uA6Btf9K87SXOhlIGmTCLQRgfVbWDB/uEAgpIbWNK+AEDUYZkv1cDzSrXVNTZcy2YwsySFNw5yboCxDrlqYS6WF3r5QT49aLYfyuVKhUM5MZ6quX8GBcVakSmA8kuNDqlopl8nCaqMfKd0qEVgksF7Batbb6x/oD4W0pcmDi+e88ArJKVYbR1589UMf/PDo6CiGLZRKKMuXrVQsy2xVwUL8fX4+xziWpmpBKYpKf+g5dXLcYER12SPC1hmhjBCsVCo1MzNTKBZXu4urLk+7RIAIbDkC6xcslH8JhyMW5iRfpiHVweYDbEAeP322q2cohgMSqCSaWDV8cmr6Dx768oGSd9sO2F9B5ElUdIuRpEsDWDgQmgVHsqu7u1KtUsGZVSRplwhseQLrTWtAOKlWQ1AJU/wu5xLiKZ5uGMNx9d79+9MTk3Nzc57r51L5vt6ytrCw8Lff+O7hk7lXTqatmt4dU77zwvEJFwVm1liuFRMLzYY5cX4Cc6fpKeEyirRJBNqCwAbKy+ARnut1dWO9rq5mpeNLebGO2QjUSv/2Zw/svPHmSqUyOzsLmUP0CnX6RGRgNdvY+Pj9j3zVk5Ae4dim2atwet2wEn2cv/r8CrcPwzE752w6baGY30rVu/Ta1EMEiMDWI7BelxAk/IeDSIxqljC+JP+gScrz/TuPe+BzX3zkj+8fGRlupTUgfbSu6xAdZDbA2rJcz7RdSWREnhODwZzjCiGlOYVwhVq10CPldOt9B3RHRIAIvEUC63UJcXrXDUUifX19l3UJMYZlRYHPlspPPPOcW6/1dSSgWQicYyFVFHjAE0P8z+ULX3vmiLhYMAuZDrwss/za0w+FgCCJErxI8gff4hdMw4jAViKwfpcQU3O2jWxTVOUyme4XKXlWw9T1erXaqYi7UwM7h1NdiRj0SgyIuq4fe/21x44exywcGGwo4MdKEkq7Xzx45Ra8QuhdOp1G0jx5hSvZ0B4R2PoE1i9Y0BdVVVBcwXf0/MnPV4TlOn75dtNEsByBLb8oTVOfEIaH0QRzC76eb1XxwhVkCBKJWYSo2QC18uf3XC5h9YofhN4kAkTg3Utg/TEsCFQVyQWVakgLDQ4OtSboYO0Jy/aXIBRRhc/XJL/hRXdcx/EUBXkLKpRrSdzwlu0xSGuH+mC8wDK2vwQYE+DZ1sZS9iiiWsVCITMz46d9oZfUqgWX/hOBdiKwfsHyKUE4XBdP91qZCrppxVRlJNWJd9LZ+arRgE2EbcOyP3rXvuv7ej7/xP+WDYPnoUsXGjLZYxIfkXhIWFl3cobdpwUEns1W7E5VkAS2arqaBCljDYvJ51lfrRZT5BfPQa9EgAi0C4GNCRYoeV40GoV5VdONfaMjD933K0OdCVTd+/w3n3roa08qePjHMA3b2b/npjt3jv7Lt59eqNVVWUJk3TD9jFOb5e+7IfR7t0YNlAH0+H96pfTTPeL2DvkXvjF7aFfo1j75339U/Z3bogiTsZzw6OvS/V/POg4tn9Muv066TyKwisBGBQsLRmihEDzBuBb6zG99TBPYj3/ywblC0Yt2/vr777n1utRCpfrVp58t6zpSqAIcf/CD+89n509Ozd73c3fbrvPwtw97rhUMePd/8QcPHNh+cE88V9JFzqs2bM61Q5wnuY4ms3/45WPv39n7u7e/5+Fnw8fPz8NjXHUbtEsEiEA7ENiEtKbzk5PnTp9JKlJXLPJf3z/6rYnCcS58pmrcKHszr7z4S3tu+IdP/BpMqrrR+OU7bvvUr36Yr+QfOfTxQd7ergpf+P3fxIoTCGqJg6OMonk2ZM0MScLfH+jb1ReqW36heCzKake6XSWMqT5WQ6foVTv8LukeicCaBDYqWIg9ofxxtVgsl4q4gCcroqIijV0QxBPnZ9Rk51y+mAyHZUHAQl2fuPfAV775ZMZwt/f3TJbrJYd977aBbb3dju185u5on2j+4/+cyJmMxDrdtYmgq3sIxsNtdJm/OdB714D02cePnsksMJeUnVnzxqiTCBCBrUdgo4LlE0FkXZLOTkzq9do9u3fu3TaEZIX7DvzM3/3RoedeOnp6chprC+JJYaOhZ2Znd+y4MaKFcFBS4g5/56lDf/pX+dy8IIp/8tix93368FfOCZoiFer2x76VOTJRC/rrqDKCKPz1f7yy49Cjn/zvs66IFK2lZ4z+xakRASLQPgQ2GsO6QErgZ7Lzf/nZf/70px584i8exIpdC3MZvPWRj3x0d6o/IIphVQ2I8r8+/uifH/ztW0ZSP3jp6K49t5R52XTYevp5NsgXY6nqyKDKuYrAhFVZGxyORMKaHJCR4KCKE24wLXQxKmqQrq6Q1T5fFd0pESAC608cXc0OdpZe+9mBjrv37kI++pGxs8NdSUTixyanOxPJmmWHJeHIbPHODq3McMfG0/fePNoZi/5oJjebm7nOyb7MDebFMOu6P9U4q/Lec8Lw9sZkpFE8qYu3RJynM8ypmm+mUSMCRKCdCWyeYPkUoVk6Y9SR69C38ybEsVzXEYOKZRiQMKRQhcLharksCLysapVSwbUsSVEFUdaNRkiVMR7DKjUdIyOa+sbJMadYYpAYgQSIoIQS8T8um76dv0e6dyLQFgQ2ySW8wMpjgjKjBBmkd3oeavWZlqXXalhlHst5+QnsSNqKx1sbsXjSt5iaM6clKeCLkechcx6VZyRNdSybYz1HU/0xcnM1ih8z96ctvi26SSLQ5gQ2V7CaMJvKUq5UHMctLZSwBE4imewfGECuFhLi8UAQeesIm2NhVPh4mLBzobh7c0mLc+k0drWQJsmSDdVr+YAkVW3+I6XbJwKLBDZQXmbxFGu8NivtVStlv5ADlKjRiEQiflmY8sLkxAQ8R0w/hPdnW3Y6fa6u11G2FPX8sAAPyvtBywxDr1WrlG+1BljqIgLtTeDqCBaYIgbfmqLMsshyQKvValg8AhJWrVVRKFmS5Ilz5+q1qr+oV7UK1zBXyHuwqXBg66+9vxi6eyJABC4lsLlB90vPv9jTDFH5EoaGxW8CAaz05a/Wtdjjx7Ba24tH0CsRIAJEYBWBqxDDWnWF1u5yo8l3Bq3K8rrsy99d83DqJAJEgAggjfydgUAK9c5wp6sSgXc3gfUIlmibP2E3zZr+EjvUiAAR2OIE/h96glE20+PqywAAAABJRU5ErkJggg==" width=400 height=50 class=img_sJtY></p>
<p><a href=http://cakephp.org/ target=_blank rel="noopener noreferrer">CakePHP</a> 1.2.6 позиционируется как клон RoR и пожалуй с него слизан был Codeigniter (в том числе и поддержка старого php 4 ). Понимание как работает CakePHP это по сути понимание как работают остальные похожие каркасы или почему они работают неправильно. Почему именно это решение не стало очень популярным - сложно сказать, может дело в названии и не все такие сладкоежки.</p>
<p>"Пирожок" в общем быстрей чем Codeigniter и Yii, весит 7 мб и в общем предполагает тоже определённые названия классов (AppController, AppModel). В шаблон данные из контроллера передаются через $this->set(). Что понравилось - есть возможность юнит тестирования, очистки данных (Sanitize::paranoid), автогенерации кода (Cake bake), использования модели как дерева (и его показ методом generatetreelist)</p>
<p><img decoding=async loading=lazy src="data:image/png;base64,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" width=400 height=50 class=img_sJtY>
<a href=http://framework.zend.com/ target=_blank rel="noopener noreferrer">Zend Framework</a> 1.9 скачать проблематичней - надо регистрироваться на сайте этой Zend-компании которая и имеет то преимущество что выпускает свой IDE, Optimizer и сервер. IDE у них глючный, поэтому к каркасу приложений я так же скептически отношусь. И не зря - этот монстр выпускается в двух версиях и минимальная из них весит 20 мб! Названия классов всюду фигурируют с Zend префиксом. В общем сразу видно отношение к разработчикам.</p>
<p>В плюсы - большая независимость классов. Можно взять тот же Zend_DB и использовать только его в своём проекте, подобно библиотеке PEAR, ещё в Zend_DB уже есть выборка данных методами fetchPairs, fetchAll (которые я давно использую в своём движке), переводы в зависимости от числительности (Zend_Translate::plural), интеграцию с PHPunit, разделение на приватный и публичный каталог, ограничение прав (Zend_Acl).</p>
<p>По структуре.. Контроллеры наследуют <strong>Zend_Controller_Action</strong> и по умолчанию запускают <em>indexAction</em> метод. Данные в шаблон передаются через переменную контроллера $this->view. Шаблоны хранятся в .phtml файлах.</p>
<p>Одновременно и в плюсы и в минусы можно записать наличие обработки форм и веб-сервисов типа youtube. Не понравилось что в Zend_PDF очень низкоуровневые способы генерации файла, отсутсвие таблиц. В минусы я запишу и интеграцию с Dojo, общую тяжеловесность и дух рационального корпоративизма.</p>
<p>Поскольку ZF достаточно популярен, то с документацией и обучением проблем не встанет, разве что постигать надо достаточно много. Наверняка используется в больших проектах </p>
<p><img decoding=async loading=lazy src=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAAyCAIAAAD9fhrKAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABkKADAAQAAAABAAAAMgAAAADainCfAAAcAklEQVR4Ae2deXTUVZbHa0utqWyVPQESkrCHsNMsiisoKiKIqH2m3Vob13FOj23/0TPHOX265zgztuP0acVWu6XFtscFe5rFbrRZBcIii0AICZA9IXtVpfZ1PpUnP4qkVAjQtvp+x1O+3/u9d9/73fC+53vvu+/+1NFoVCUvqQGpAamBr4MGNF+HSco5Sg1IDUgNxDQgAUv+O5AakBr42mhAAtbX5k8lJyo1IDWg+4pVEAlGw+FgWKXT6zWaoaAnPjiv18svl06nMxgMarX6Il8qGAz6/X4hJykpSa/XX6RA2V1qQGrgkmjgbwxYEVU46HQHugMqdyB4yhGsdWtdGvPUcOO80mxresYQXsnpdD777LPd3d2RSKS4uHjFihUZGUOREz/0rl27fvOb31gsllAodOvi226Yf71Gq41vIMtSA1IDX4kGLjdgRUOBgMsf8obCdfZAgz+pJ6Rp94ROhwwBrUXVT6nCYVVha5Mn3zI0wAqHwy0tLe3t7TAsrVbb29ublpY2NLKm/AHsdntDQ0NycjKA1drS4vF6KStPZUFqQGrgq9LAZQSservv097IiV5fazDJozUHo5ZgVB1Va3RalU6nMpyJpgiEwl53HyYYFGkIQIPhhskmrDa1RhMIBocmJ/4PAPAJmcwnhLhw+OJlxsuXZakBqYGhaeDyAVb0SIf7jR5bcpJZq4ttRuJZMihzPINWao0q4nPrVFGtTgdFUp7HF1557bW9u3cDGbNmzbr33ntBk/in8WV8VxoA7KJ9WPEyZVlqQGrg70cDQ/Fzn9/s1dn6qFkdwV8NwAAliT3halXU51KFw2qgK9GF/xu0amxsbG5u3r1796lTpz4P1xL1lnVSA1ID3ygNJIaJS/KKenUkKeyPJgaqMyOoVRFvnylJbTAaE1Knuvp63Oomo9FsNvU6nB0dnRhoZzrL/0sNSA18uzRwGQHLqouYI/7EZp6iZLVK43OZderP24Zramz0eDw4p6BgPq+nvaMjJAFL0Z4sSA18yzRwGQErL1mfbVKFvhCx4F/6oNukiSbpzzq44v8E9XV1WIWfuaWi0YbGRn8gEN9AlqUGpAa+PRq4jIBltpiTtapo5IuUCZppoxGjXo/TfXA7ogoampowFfs96THbsq2l2evxEMowuLGskRqQGvjGa+AyAhZbduagW/05e39Cs5GwShMJmczmhJ6uPperob6e+HUwixB2uvT0X9/4v4p8QakBqYGEGricgKXVFhiCGtXn24SgVFil9rsS0iumiwPL4XBAr1JTU41GI1FRfX197Z2dcqMw4d9SVkoNfOM1kMAQG8I7BwIBoARLDSoEIdIlJRkNBq1WU5Rq0PpjFCshgWKgaCSq9ru1OlvCQWtqa4VMAIvI0q6uLpfL1d7WhqnIIAm7yEqpAamBb7AGLs2yP3nyJKf5hGucX0w8rDir2aTRGPQhX8BgSUiz1FpiGrzavk6zZbyw+AYomvMxABYCc3JyOC5D7CjlpqYmTjtDuAY0TniLw55ePOKXLmKG3AJ5nOZBTkpKCmcPLxT+QM/Tp08jhL5IAKYTjs6c6xsa3R5vbnZmYWFhwndM2FFWSg1IDSTUwKUBLA6ysOZZkMJYI1TKFwwePXq0sKjYHDH5VZYBDEtEifp6e+311Xkht9FiGTw5n89PsChmIFiTl59PAwrgYGNzC5FZcK4vPcfz3nvvbdu2jbmBL1OnTr3rrrsow/c2bd68Yf3alpZWZgvWlI4adceyZRPGjx88h8E1mKjv//H/du7Y4XDYecorjxo9+rbbbhs/blx8457e3rd+//u9e/dCCZk2KR9y8/IXLVp01bwrPw/d4rvLstSA1EBCDVwawDKbzSxL1j+XGAb8goB0NdVn5ed1EWx1xpEljs34nQ5PV5vX3h32uqzJFror3EeZZWdnBywGOZAsW0YG0ljqao26t6cHwKLyiwGrtbX1/fffx0ePZL3BsHDhQuxWAGv16jfeeust+iKZ2fJ03549J2pqHn300dmzZw+ehjIfCqDVz372s0OHDilkDSgEvKqqqn7wgxVXzJ0jptRrt9PsyOHDJpMJgYxCs+pjVdaUlGlTp1it1i+eefyIsiw1IDUQr4FL43S32TJYmYCIIpo1SXoWl9ORoo2IyAagCmIV8nmdjSd6T1X5ejvVAJDPZdARtZBgGuRgsPf2IpZMCSzyzMxMIAZvmNfjbmhsUpBRGXFAAXqFlWoymZnJlKlTR48eDSx+8sknb7/9tsGgh/LgbQN3AFJgBQT87W9/e6quboCQAbev/PrXBw8eZD6453gkwAixTofjjd+tqq9vEO3ffecd0IpmDC3oFWGxMcQOh4jJ+NKZDxhU3koNSA0oGhg6wzrt8n/a7s4M9xWkGswGo9VicXu98dwBT1Z3R0TldWp0UZVWHQ4EfL1d3t72aDgYsxA1rGGNOuAxJ8N7EmTIO3HihFjwZktyckoKp3MALJFar7WlGcKVsBeCIWJ1dXU7d+7EXguHQ6lpabNnzcqw2ZC2du06EEStTmJf4JprrxlZUrrz4+0HDhygJWxu89ZtwwoLE4qlb9Wx6so9e4AhEMdgMM2YMSMjI33fvn341IC8zs7OLdu2FhWNwC9GOi2BVsxk8uTJpWVldK8+XqPTaj5vP1T5e8iC1IDUwBdoYOiAFfK6157W+nV5yY5wur97oqs9zaBNSUsHERiP3xSrFRaic7brDKU+rztg7wp43Ryyie0ZglhQDrVaF3BDdxJiBOecoTDIsVqTU1NSsBvBBcw68KKjo4PzOlCbwS8mWM/adethPUaTCYCbPmPmqLIyJOARq62tAfUAuwkTK6679trs7KxRpSWcrCaLFsFeVUeOdHZ1FeTngy8040I+ZKp/zqqDBw/0OZ3QRuZQUTHppptvysvNHTt2LNYfznWfz7dl06YbFyyAGIq9AkbBxrxl0SJ2DMxG47wrrnC6XLwpKDZ42rJGakBq4Hw0MBTAwvRj1RWmmMo1rR9rSiIaVY+50Fezb7rVb01NE6P2A42VFH2WoDPaWe8LqknlB5rEnkb7jSmBWCG/0ZAcSz1z7oWNBnMBOIAnHFjJ4ITFkp2TA7IwdFtbm93uwEg8t1PsDq6Ej2nbtq34rYCMgoLCWTOmp6Wm8ohjPUSiQq5AynFjx9psNitepZRU9u8Yiwa1NTX1dfUAFqMcOXIEUdClUaNGgVAUXnvtNdxVVPJqN954I3DMBYFqa23du28f3bEWv/vd73b39GzZvBl/HjUTJ06kWXp/QkHQNi09nUp5SQ1IDQxZAwmcR18qC/OnuvrY0ZraYd5mi7cbzqTXqroySprb2sS5P4AGIfAOu9Op16iswb5gzO3eT6yE9H6EYk3rVBEgQHCZ+HHhKWAWcriysrJogNcpPz9fYCUT6O3tYaz4LpQBRH8guGHDBlxFlPEczZk7t6i4GJuSpy3NzR63m227trbWfgMzSQCo2+f/6KOPNm/evG7d2kOHDtISBgftqq2thZThtqfG7Xbv/+QTaBR+d24hTQAoBWZVXDaKAheS4VbAH1gpajA2mQmvELtlPv2XeCR/pQakBoaggQsGLBKEqkKBzrZWXyCo8zosTQcjAFFEFckuaQvp7T1dMCCWLpt0bR0d+GwCPm+KOhBDq0EXgGVK0rFJSLDCgIcAFpGoYoXn5uYiE8zCwQRpiqGS3w8ngukM6IXBdexY1eHDh0EToK2srGxi+QTKAjJ27Njx17/+dePGjVCwKAcYjZ/BStGwQuSIHQO42wCnOH0ZndcBrcRwxF4RVKGYsVlxRI/uTHLEiBGiZWVl5UsrXyYJ6oB5ylupAamBoWnggk3CLQ2OXW3avC5vhcmclVeQWbOzJ7dca8tWW80OW1lz44lwVN3ndgNGWo2G3UOXw2HNDUdDQAR7iHGwxX5/OKxTRw143AeZhLUnTsTeB/e2yWz7bH9QBXLF9vWQFI02NbdgqcHOaCUwBVihfsP6DYAdhAgj7saFN6Wnp4s2oBvRrUJHYBP2HcgFPwIHcZyLen7ZWAQTlVtRQD48S6lHINMQIEiDzIyzYfpQM0Zc8fDD//Tkk6Lv88//wuP1/PvPf079ALHyVmpAauBCNXDBgDXO6NsQSarNuULfvPU7Y4rHD885Vb0tOvf2iDto11hau+0Gi9VgMik8xeXxpOgimgAoAIjFXQBWwKsLeVn+SmPxGGjA4w6UkEo9Iz0NNxBlHuXl5eE2gr5FIxG4DJSHW+pxwMOAMNZ2V1YSA8UtAgsLh5WUjOSDFKIvIKWMAkFbt25d3FTOFnkEDp697y8BhRA6BbCEIam0ycw8+5EeRmFWDz34EMbg71atEm1eXrmysaHh+eefJ7RC6SULUgNSA0PQwAWbhAVZGVdrW7UGU2Ukp6O9fWTZ6GJ/i6+53tla79WnuHXJoeDZBY/rSa1LUnkc+rB3gFXItyjI525ShcklKjBFmX1PTzeBC8AE6x9vUVZ2DlSIp7iH8JSDFzEbraUZNxOVMKktW7bs2bPn+PHjMDXQTQBTc3PTp4cOKYYbLeOBhnL8rTI0bjcGVW5FAXamgN2AR9zGW6ZgJbfsZz7/3HMPfP/7SuMPPviAOPuamuNKjSxIDUgNDEEDF8yw1HrjnGJbTfWJ/cMm7zrxwWytxkZy4/3rwuNvUCcZ2s2FBY46S0psV45FbjDGQjQBLKM+26+2kB0rbopEmgaTVBFc1AOwo7GxiXM5VAJMxLX/+YMNbLFhiOFlh1hVV1dzDBBomD9/Ppt0ECIFYnAtXXXVVb/61a/EKKtXr7755psVXqOADs3++akfFRcXE7J6JjI/BmdgDQ5+YULGzTP2Iswkvia+rNiGVApPPAXCvl544YURw4f/9Kc/FZsDcK6f/ORfXnzppUzbWRMyXo4sSw1IDXypBi4YsJCYmVdwQ081qfUqe1T6rkP4mHPaPnX1tkRSsp1mW0/HiTSP22RJZv2zMxYMhQ1Bf7JFZx/oGlIT+W3QcM5uYNToybo6n59wB7xbehxSIBTmHhtwbA4qdhnTqKmpwf6Kx4tgMHTjwoWEjIIONCDO4M033/zxj38sIrYUWAR9KiaWz5kzB2wCjJAAIAo4E34xBdqE+rjFGoUGitGRo4iiAX4r0YxfWiqPCBxjaFjh448/jk+Np2vWvL948W13332X0l4WpAakBi5IAxdsEsakqzVjSkbM17doUrOPe/SRUKAo12ZsPaqKBCOW9HZVss/VJ9Y8ziaz2RIMBU1R/wAfVlQVZWwL8QWD8i7UnTyFcx6AwF3FYRosPrbb4FbxaMUsOMEX82cpHCmWgyFIMOf999+vqIBjg8drariF6GVnZ4t6AiYQxXkfCBEh6ZTfeffd11etwhOvOOYVCRQYAlNUsVvZvgQolXEJ2lIa41kX1quooXzfffcRWSpuCbuvrNwl4iSULrIgNSA1cP4aGBJgsf5NlisrRk+2+pvSSmsbW3NIpxDoVDljGWbsqSO6euxiPUOykq3JHrfH6LPHbRB+Nj1iyC0mAxFW8dPt63O1nT6NZ2r//v3gFNxnzJgxU/qvadOmEVmuUBiYl/AZKTXIwf5avHgx0Z5CJud71qxZgyudWyXaAISCFgXPONdxfi2/444H7r//oYce2rp1Ky3jBXKLySn8/UImCMW4osyvcKWJ28ysrMHG45IlS4YPHy4aCGNW6SsLUgNSAxekgaGYhGKAtMzsRWXttW7HEbdthNtVlJPe1n7MlZrls9i6eky5Toe1/5gOix/YMvldaj3fIDzHhxV1200p/U6uuCmTpOHDjX8haBNYIVIcegJYgAIgIBYihiGcRVhhcK76+npsrrjesURX1Dz44INPPfWUqH9z9erbl95eUTGxpKREaUmsFrMSt0SHKvVgFeUBURYMzXYkuIlNylPQinFFd6gWuCm6syMJv4t384t6DE8FxTA/lXHFU/krNSA1cP4aGCLD6h9APbasdFGhNpySc7ilx5Zhy/d3qJ2dUVNKlyHT1dcnJsFaxYWki5Ir+ZwL6NIEycN3djGLx7CqY8eOgTvckqkqFvx55ho/fvzVV19dXFwsWmJbYRWCJoMJ0T333ENH0YyD0KtWvQ6fqpg0GV+4qCS0XRzH4RazUVSyHZmTk0v5HFzt3weE6M2bN0804/fdd99taztN4fXXX8eVJuqhUTj4eV/2BMmEpQAT0arMQbThdE68zSgq5a/UgNTAeWpgAIycZ6/PmiWZzNdWlN0zymQik4zPX5Sdbu04znL3pA9v73X6iIeCxbD6tVqfs8cU8kTPTSOj8zr1erLLnLMBh8tcmURpSQm0hRUOMREkBeBQkIhmkKMBceTgF0jBZt+KFSsUOUDSgYMHxo4ZM33aNFGJGbjikUeIjfre975HIhpRyQHDstJSpZdSQCZlsvSxvSgqt2/ffuedy2++ZZHC46i/7rrrON6IS279+vUzZ85cvnz5D3/4Q/jgww8/LHrpDcbx48sH70KKp/JXakBq4Es1MHSTUIhOs2XNnTa5JD/n0NEqRzhUaO90urpCloyupAy3056akUnwJ2ijCfqSACzdOalHNZFg7EzfuT4svOxCMk5uziEbjaYB71BeMUm1erWoJKlpzIc9wITrf3b33XevXLkS05I7Usf84Q//O2XylMcee2zTpk0izmD71q38pwgHR2655easrNiBaoFQyiNRwI3G2eYXX3xR3BL5Fd9g3LhxAJYIZ4fxIQEWFt+A8tw5s2fMmDbYZhzQTN5KDUgNfJ4GLophCaGkPBg1ZsxVV14xdtz4ipLhw/2nOercay3o6u7FIQThSbam6FURYzhAmIMyD5a0PhqCj8THJbBJR4y7aJORmTmypESnGzjDSRPLFSHkyWvvOPsRHQE0wkLkHM8DDzygtMR227Z9O3lHn3766cFJqQAR3F7XXHMNhI4u8TamME6F5GeeeQYJikylgDv/ySefZENARN4P3vekJfmznnjiicKCwoRZcRRRsiA1IDXwBRrQsgi/4PH5PyJEAA9QXkFBoTHa11p/Wp2S1NeZadIkGYAkdU9Xl8+Y5jCkx+AnloEUz5Mm09k4pWz48KJiBbMIU7A7nCOLi3GQk3VvwYIFGFmKx1pMBrvM5faUjByJbThm3DiML7PFUlhQQJfp02cQXUWWKyGwqKgIpzg+L/zlw0eMGDZ8xJgxo+fOncstSRtAIrb/wLVpM2Y+8vCKpUuX0iaFvA5qdTAUIiALhxRD4LoqLy/HFAXFeMdrr70We5PACHYeIWUMAYSBVrNmzUKU8E+VlpYyZ4YOEzyRnMxwd9xxxyOPPDJp0qTcnGyM2/PXqmwpNSA1EK+BmPESf3/xZVbyyePHKqtOdvQ6bEkRi5lkCeo2PjGoSW/MnUpS9mgodhI6FImWNu+467rZk6dNV0KcGJ3unEAGLwAdslXBWQRg4ZkSU6Uem0604RGEhVAvQg0CAT8JXEjUp3iakEbMlBP3f79jC9szIz2dsZDDDiMRBuCjVpdEtqyMDKhVuhKnTgNCVdkNZBogDkFYfFYDFIOIMTqVOOw7O7u8Ph+RGcA0DUjhIFBSKJC+tHE4nW63h8SDubk5vAgTGwC+F69tKUFq4FulgYv1YQ1WFrxj9PjyvMLC3p7empN1LS3NmEhm3NUtXdpcnPD9/EKtifj7dNHQYA8037mprT2RlpYKasCA0jMy4FDr160zwaNM5lA4yHE/HEZUiqGJtHpp5crly+8sLRlJDS4wduVuXbRo9Jgx3AITpOLDR45Li43CV155RcmawCnnmTO/c/x4NTBUXjCBxtiMx6qqMCQBNfgU6RxuuukmIGbV6jc9rj4q/T4f0adk74PN1dTUNra0ZGdl8YEcYBHQvPGGGyKR8Htr1hDVBYgSC8YRazKC3RxLGvFZXkMxZ/krNSA1MDQNXHrAYh4s8vSMzLR0W7ot88ABHWs7xOkcHaHtpJjRkg4mZhEGfHp1lOzI8Q4j+gJAnC5kSw6TDVYFTGB/ETpw7733YaARLE6g5i9/+UuCrQoKCmj/540fss+4fv26f3ziCW7xrxOrtX3nTgFY8LXKPXvJNUrGZCgSRAw8giIxKM410r03NDZs37Fj5ozpGIi7Kvd0nG7FkV9RUYEQdhKXLF363HO/mDxlyvJlt+u0Or/ft+b9P4KPT//oR/X1dcQxgGiBAIKDr7766tp1a29auJA8y9Fly+Bub771B0ZZtnSJRCv+LvKSGrgkGhjo0r4kQoUQliuGFs6dK66YS7KXsaNK9QFPiM9RYBZqdZpIyKDTDNgipCNuIFZ7zPd+iq/Y1LHJSGgpsIVbCbwAgICerOxsGA2N9x84QNatRx97jC5Hqo5RA8bNmDnT6ewDcbhlLy8700Y0F/4qYBQQRCxhn/w2Nce+ZDGxvNxpt0ORjh49wlkdPFki3zFJsubMnbPvk/1Eii1edAu7mcwC83DZ7UtpXN/QADeEAGKcBoMBMi8jPD8vD1ZIrqzDRw7/6zP/Rmbkh77/gELomIy8pAakBi5SA5eFYSlzArNwV7N9xj5an8Oe9Gn1+vr6HkuezmxVh/xmHU8HfkgCTxB5jFtbWoAD0Icwd0w2kGXXrkpMRY/Xe/RoFW5sQVvIa5yRYTvd1sZJ6e3btk0YNxbuhueL4bZ9/PE/jBhBAOett966du1apsRk4FacpkYyyAIyQpHgaeZkCxAGiRs1ajTpH7BJiWhvO92+YP783Xv39ueAV14odsIRV1coGKI7Aa48iMlsbQVGiW9lwi63u3L33qmTJze3tJCcC9g621mWpAakBi5OA5cXsMTcwCC4Cdd8synHeGjjsepqfwHx6RajiQgDuEn8K7D+R44sIXWMUol3HJi4/vrrxWHA5uaW//iv/1yy5La6uno+HV0+YQLBEEDY1m3bIE1II9no9BkzOIr4l40f8qkx/E2wIBAK1IPxxUsWQwAuGz/8EP624rrrgNcRRUWvv/Emn3ctKCws7u7Zu+8T+Bref9EYXCPjzbBhhZs2eUE3Rdrz//3C9o93XD3vSvjg3XfdSQ6Zt99554UX/odUDbYMmWtU+WPKgtTARWngbwFYygRT023fmT27ML9u16GqhohnZFHp4JAlECcuWivWFWYUD2pwq1Sr1WG3Q69uWLBg7tw5Qj4f0fpo05b8nCzaW0wmzMA//elPnGfmKYjJBeqx98cnKmBYVIJiUD+uSZMm0ZK4UGG+AUObNv1iyW2LaTO5YmJDQ/2rr75CJcQK//r+g4cIYRd7BcgUQ/PLPmBvTzdzhQ9iP1Jzx7JlJOR6+eWXH3/sMb5UprSUBakBqYEha+DShzV86VQgO64+Z3dnh8Ecixhghcd3wWQDWYgVUCrhXLAqbEOTKQYEwA3+KfLCEDqAQSdCn6gHjPCpQ6kITmUvjxRUuOfZqgPsKIiwA0w/cApEE3KQSfAUZeohgOK7YZh1xMfj1FeiHGBwNGCLkBDZCeXlwsrjVBBbgYilOxdWJPPhuz5EM8AEBcIiCs89o4h4VNFS/koNSA0MWQNfAWANea6yo9SA1MC3XANnjZpvuSLk60sNSA38/WtAAtbf/99IzlBqQGrgMw38Py8UEAuX5BmFAAAAAElFTkSuQmCC width=400 height=50 class=img_sJtY></p>
<p><a href=http://www.akelos.org/ target=_blank rel="noopener noreferrer">Akelos</a> в основном продвигает <a href=http://www.bermilabs.com/en/team/bermi-ferrer target=_blank rel="noopener noreferrer">Bermi Fermer</a> и сразу признаётся в том что это максимально полный клон RoR и весит приличные 9 мб. Запуск очень аналогичен вышеназванным каркасам, поэтому я не удивляюсь что контроллер наследует <strong>ApplicationController</strong> и по умолчанию тоже вызывается index-метод. Переводы в контроллере можно получить через AK::t() метод, что странно и непропорционально относительно названий других объектов и методов.</p>
<p>Данные в шаблон летят через $this->saveAttribute(). Вобщем ничего отличительного что вы в руби не видели. Интересная выборка с использованием ActiveRecord и множественностью ассоциаций между моделями (has_one, belongs_to). Использование AdoDB в качестве адаптера к базе данных, хранение сессий в базе.</p>
<p>Минусы - интеграция с Prototype.js и scriptaculous, отсутствие документации, хранение переводов в ассоциативном массиве, практически нулевая популярность и сообщество разработчиков. Вряд ли пока стоит брать на вооружение.</p>
<p><img decoding=async loading=lazy src="data:image/png;base64,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" width=400 height=50 class=img_sJtY></p>
<p><a href=http://www.yiiframework.com/ target=_blank rel="noopener noreferrer">Yii PHP Framework</a> 1.0.9 на удивление хорошо <a href=http://yiiframework.ru/doc/guide/ru/basics.mvc target=_blank rel="noopener noreferrer">документируется в рунете</a>, целиком объектный и <a href=http://www.yiiframework.com/performance target=_blank rel="noopener noreferrer">хвастающийся</a> что он быстрей даже чем CodeIgniter, хотя скорость по идее зависит от многих вещей кроме скелета. Развился из <a href=http://www.pradosoft.com/ target=_blank rel="noopener noreferrer">Prado</a>, весит неплохие 7 мб.</p>
<p>По запуску - вызывается контроллер который наследует <strong>CController</strong>, потом в зависимости от запрашиваемого URL вызывается более низкий класс который наследует <strong>CAction</strong>. Для всяких дополнительных проверок на права можно использовать фильтры - CFilter. Модели могут быть двух типов - Active Record либо CFormModel. Шаблоны показываются в контроллере через $this->render().</p>
<p>Префикс "C" как и с "Zend" даёт какую-никакую совместимость но и добавляет шума. В целом мне показался каркас удобней чем Symfony, но чуть более корпоративный чем CodeIgniter.</p>
<p>Читайте также</p>
<ul>
<li><a href=http://setti.biz/574/ target=_blank rel="noopener noreferrer">CodeIgniter vs CakePHP</a></li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Теги:</b><ul class="tags_BNPU padding--none margin-left--sm"><li class=tag_wFKI><a class="tag_mxxo tagRegular_OVld" href=/blog/tags/php>php</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_Y5lg><a href="/blog/tech/backend/php/Стильная почта с картинками на PEAR">Статический и динамический анализ php-кода</a></h2><div class="container__LhH margin-vert--md"><time datetime=2008-08-31T10:00:00.000Z>31 августа 2008 г.</time> · <!-- -->2 мин. чтения</div></header><div class=markdown><p>PEAR - вполне неплохая php-библиотека, хоть и достаточно тяжёлая. Определённо и в других библиотеках имеются классы работающие с рассылкой почты. А рассылка почты системой должна как правило отличатся от обычной mail() функции. Более того, модули рассылок почты зарегистрированным пользователям обычно самые сложные. И вопрост не столько в том что я ниже описываю как отсылается почта, а в том кому и в каком виде это делается.</p>
<p>При работе с таким модулем обычно делают такие основные регистры (понятия, коренные таблицы, классы если хотите):</p>
<ul>
<li>Письмо которое включает заголовок, содержание (наверно на нескольких языках)</li>
<li>Рассылка (кому какое письмо надо отослать и прогресс этого)</li>
<li>Пользователи (не обязательно из таблицы зарегистрированных пользователей, может быть вполне список почтовых адресов)</li>
</ul>
<p>Дальше можно усложнять тем что можно выбрать пользователей по каким-нибудь параметрам (возраст, язык, пол, группы и тп). Можно добавить слежение за тем что пользователь прочитал письмо (вставить картинку с сайта). Обязательна функция отказа от рассылки. Это наверно все знают, поэтому делюсь кодом который часто использую для собственно процесса отсылания почты.</p>
<p>Ещё одна особенность при авторассылке это шаблонная замена имени, ссылок, дат, цен - всего того что пользователи с издёвкой отмечают корпоративной безжизненностью. Эти замены должны быть достаточно гибкими что-бы пользователи не заметили что они дешёвый материал; Нельзя рассылать письма типа "Дорогой Ира Кузнецова", или "Дорогой Artjom.." - надо обращать внимание на язык, пол, временную зону, кодировку имени пользователя. Умную рассылку не так легко написать, но сегодня я не об этом, а только о части - о картинках.</p>
<p>Есть два типа внедрения картинок - со внешними ссылками (помоему наиболее приемлимый), либо с картинками которые прикреплены как ариложения (<em>attachment</em>). Этот второй вариант значит что картинки покажут сразу (пользователю не надо подтверждать доверие ко внешним ссылкам), но в то же время некоторые email-сервисы типа google всё-равно внизу страницы уродливо показывают эти картинки отдельно как приложения, тогда как Outlook жуёт нормально.</p>
<hr>
<div class="language-php codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-php codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">require_once('Mail.php');  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">require_once('Mail/mime.php');  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">                  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">$mime = new Mail_mime("\n"); $mime->addHTMLImage(sys_url.'img/stripe.gif', 'image/jpeg');  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">$mime->addHTMLImage(sys_url.'img/logo.gif', 'image/jpeg');         </span><br></span><span class=token-line style=color:#393A34><span class="token plain">$mime->_build_params['html_charset']='UTF-8';  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">$mime->_build_params['text_charset']='UTF-8'; $mime->setTXTBody($arrTemplate['txt']);  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">$mime->setHTMLBody($strWrappedHTML);  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">          </span><br></span><span class=token-line style=color:#393A34><span class="token plain">$body = $mime->get();  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">$hdrs = $mime->headers(array('From' => $arrTemplate['from'], 'Subject' => $arrTemplate['subject']));  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">          </span><br></span><span class=token-line style=color:#393A34><span class="token plain">$mail =& Mail::factory('mail');  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">$mail->send($arrParams['email'], $hdrs, $body);</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Если будете интегрировать, гляньте баги <a href="http://pear.php.net/bugs/bug.php?id=1436" target=_blank rel="noopener noreferrer">1436</a> и <a href="http://pear.php.net/bugs/bug.php?id=12216" target=_blank rel="noopener noreferrer">12216</a> тоже</div><footer class="row docusaurus-mt-lg"><div class=col><b>Теги:</b><ul class="tags_BNPU padding--none margin-left--sm"><li class=tag_wFKI><a class="tag_mxxo tagRegular_OVld" href=/blog/tags/php>php</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_Y5lg><a href="/blog/tech/backend/php/CSV - кодировки, импорт и экспорт">CSV - кодировки, импорт и экспорт</a></h2><div class="container__LhH margin-vert--md"><time datetime=2008-05-30T10:00:00.000Z>30 мая 2008 г.</time> · <!-- -->2 мин. чтения</div></header><div class=markdown><p>Comma Separated Values - типичный способ экспорта табличных данных, но далеко не стандартный в плане совместимости между Excel, php и другими источниками данных. Надо читать <a href=http://tools.ietf.org/html/rfc4180 target=_blank rel="noopener noreferrer">RFC</a>, и пробовать всё на практике</p>
<p>Самое наглядное - если вы думали что данные достаточно через запятую перечислить, то если вы сохраните простой текстовый файл с такими данными:</p>
<p>ID,name
1,Mac'duck</p>
<p>То в Excel получите</p>
<p>Тому несколько причин</p>
<ul>
<li>Отсутсвие utf8</li>
<li>Разные символы разделения данных (табы вместо запятых)</li>
<li>Особые символы (", n , r) должны очищаться что-бы не побить линейную разметку</li>
<li>fgetcsv()</li>
<li>Данные лучше помещать в двойные кавычки, а сами двойные кавычки в данных эскейпятся повторением:<br>
<!-- -->$value = str_replace('"', '""', $value);<br>
<!-- -->$value = '"' . $value . '"' . ",";</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=mysql>Mysql<a href=#mysql class=hash-link aria-label="Прямая ссылка на Mysql" title="Прямая ссылка на Mysql">​</a></h3>
<div class="language-sql codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-sql codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>SELECT</span><span class="token plain"> id</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> name</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> email </span><span class="token keyword" style=color:#00009f>INTO</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>OUTFILE</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'/tmp/result.csv'</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>FIELDS</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>TERMINATED</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>BY</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>','</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>OPTIONALLY</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>ENCLOSED</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>BY</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'"'</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>LINES</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>TERMINATED</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>BY</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'n'</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>FROM</span><span class="token plain"> users </span><span class="token keyword" style=color:#00009f>WHERE</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p> </p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=экспорт>Экспорт<a href=#экспорт class=hash-link aria-label="Прямая ссылка на Экспорт" title="Прямая ссылка на Экспорт">​</a></h3>
<div class="language-php codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-php codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">header('Pragma: public');</span><br></span><span class=token-line style=color:#393A34><span class="token plain">header('Expires: 0');</span><br></span><span class=token-line style=color:#393A34><span class="token plain">header('Cache-Control: must-revalidate, post-check=0, pre-check=0');</span><br></span><span class=token-line style=color:#393A34><span class="token plain">header('Cache-Control: public');</span><br></span><span class=token-line style=color:#393A34><span class="token plain">header('Content-Description: File Transfer');</span><br></span><span class=token-line style=color:#393A34><span class="token plain">header('Content-Type: text/csv');</span><br></span><span class=token-line style=color:#393A34><span class="token plain">header('Content-Disposition: attachment; filename=SomeFile_' .time(). '.csv;');</span><br></span><span class=token-line style=color:#393A34><span class="token plain">header('Content-Transfer-Encoding: binary');</span><br></span><span class=token-line style=color:#393A34><span class="token plain">header('Content-Length: '.strlen($strCSV));</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">mb_internal_encoding("UTF-8");</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$strCSV= chr(255) . chr(254) . mb_convert_encoding($strCSV, "UTF-16LE", "UTF-8");</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p> </p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=импорт>Импорт<a href=#импорт class=hash-link aria-label="Прямая ссылка на Импорт" title="Прямая ссылка на Импорт">​</a></h3>
<p>uiyi</p>
<div class="language-php codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-php codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">$sCSVFileData = file_get_contents($aFile['tmp_name']);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">if (mb_detect_encoding($sCSVFileData)) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $sCSVFileData = mb_convert_encoding(mb_substr($sCSVFileData, 2, mb_strlen($sCSVFileData)), "UTF-8", mb_detect_encoding($sCSVFileData));</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">else {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $sCSVFileData = mb_convert_encoding(mb_substr($sCSVFileData, 2, mb_strlen($sCSVFileData)), "UTF-8", "UTF-16LE");</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">$aCSVLines = explode("rn", $sCSVFileData);</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">for ($i = 0; $i &lt; count($aCSVLines); $i++) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    if ($i > 0) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        $arrData[] = getCSVValues($aCSVLines[$i], "t");</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">function getCSVValues($sString, $sSeparator = ",") {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $sString = str_replace('""', "'", $sString);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $aBits = explode($sSeparator, $sString);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $aElements = array();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    for ($i = 0; $i &lt; count($aBits); $i++) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        if (($i % 2) == 1) {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            $aElements[] = $aBits[$i];</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        else {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            $sRest = $aBits[$i];</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            $sRest = preg_replace("/^" . $sSeparator . "/", "", $sRest);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            $sRest = preg_replace("/" . $sSeparator . "$/", "", $sRest);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            $aElements = array_merge($aElements, explode($sSeparator, $sRest));</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    return $aElements;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class=col><b>Теги:</b><ul class="tags_BNPU padding--none margin-left--sm"><li class=tag_wFKI><a class="tag_mxxo tagRegular_OVld" href=/blog/tags/php>php</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_Y5lg><a href="/blog/tech/backend/php/Пространство имён в php 5.3 и php 6">Пространство имён в php 5.3 и php 6</a></h2><div class="container__LhH margin-vert--md"><time datetime=2008-04-13T10:00:00.000Z>13 апреля 2008 г.</time> · <!-- -->2 мин. чтения</div></header><div class=markdown><p>Пространство имён (namespace/package) знакомо java и c# программистам, теперь доступно и в php. Нужно оно для того, что-бы не писать длинные перефиксы к названиям классов, как сейчас делается в Zend, PEAR и других библиотеках и платформах для совместимости.</p>
<p>Вместо этого классы, функции, интерфейсы (абстрактные классы) и константы могут быть объединены в одно пространство имён. Глобальные переменные в это пространство не входят.</p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=простой-пример>Простой пример<a href=#простой-пример class=hash-link aria-label="Прямая ссылка на Простой пример" title="Прямая ссылка на Простой пример">​</a></h3>
<p>Определяется пространство ключевым словом namespace</p>
<p><code>//определяем класс в пространстве   namespace MyCMS::Core;   class System{}</code></p>
<p>Использование этого класса в третьих библиотеках осуществляется ключевым словом use</p>
<p><code>require_once('mycms/core.php');   use MyCMS::Core::System; //импортируем только заданный класс   $objSystem=new System;</code></p>
<p>Как вы уже догадались, разделитель :: работает так же как и вызов статических методов, разделяя уровень пространства имён и конкретный класс. Уровень вложённости пространств можно использовать наряду с модульностью библиотеки, например реализовать пространства Database::MySQL::Adapter и Database::Oracle::Adapter.</p>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=новые-возможности-и-новые-проблемы>Новые возможности и новые проблемы<a href=#новые-возможности-и-новые-проблемы class=hash-link aria-label="Прямая ссылка на Новые возможности и новые проблемы" title="Прямая ссылка на Новые возможности и новые проблемы">​</a></h3>
<p>Если в пространстве имён имя класса перезаписывает ранее объявленный глобальный класс или функцию, то к нему по прежнему можно обратится через ::SomeClassName, однако не зная к какой именно реализации программист обращается может вызвать проблемы. Например можно переобъявить стандартные php функции, поменять sin() и cos() местами, что-бы кому-то жизнь мёдом не казалась.</p>
<p>Для отладки существует рабочая константа <strong>NAMESPACE</strong>.</p>
<p>С двоеточием возникает и проблема неоднозначности:</p>
<p><code>A::B() // вызов функции B из namespace A   A::B() // вызов статичного метода B у класса A</code></p>
<p>Читайте по теме:</p>
<ul>
<li><a href=http://www.phpfever.com/using-php-namespaces.html target=_blank rel="noopener noreferrer">Using php namespaces</a></li>
<li><a href="http://phpclub.ru/talk/showthread.php?threadid=103418&perpage=20&pagenumber=1" target=_blank rel="noopener noreferrer">PHPклуб о доступности в версии 5.3</a></li>
</ul></div><footer class="row docusaurus-mt-lg"><div class=col><b>Теги:</b><ul class="tags_BNPU padding--none margin-left--sm"><li class=tag_wFKI><a class="tag_mxxo tagRegular_OVld" href=/blog/tags/php>php</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_Y5lg><a href="/blog/tech/backend/php/Календарь на PHP, MySQL и ajax">Календарь на PHP, MySQL и ajax</a></h2><div class="container__LhH margin-vert--md"><time datetime=2007-06-08T10:00:00.000Z>8 июня 2007 г.</time> · <!-- -->2 мин. чтения</div></header><div class=markdown><p>Для корпоративных сайтов зачастую нужен <strong>календарь</strong>. И ладно бы что-бы он просто показывал дни недели, так зачастую вносится понятие События (Event), а ввиду обширного потенциала этого понятия можно говорить об Event Management System. Поскольку деловым людям свойственно планирование, то такая система должна быть удобной, мобильной и расширяемой. За удобство отвачает ajax, за мобильность - само наличие интернета, а за расширяемость - программист и проектировщик.</p>
<p>А ведь <em>событие</em> ещё может иметь и..</p>
<ul>
<li>
<p>повторяемость (с определённым периодом , до бесконечности/определённого числа повторений/конкретной даты )</p>
</li>
<li>
<p>местоположение (для точного - google maps, для неточного - просто текст)</p>
</li>
<li>
<p>привязку к временной зоне</p>
</li>
<li>
<p>неопределённое время или длительность (идёт в todo список?)</p>
</li>
<li>
<p>принадлежать группам или типам событий (деловые встречи, личные встречи, культурные мероприятия)</p>
</li>
<li>
<p>доступ к просмотру для других пользователей (sharing, оповещение)</p>
</li>
<li>
<p>систему оповещения по email/sms/desktop widget</p>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=публичные-сервисы>Публичные сервисы<a href=#публичные-сервисы class=hash-link aria-label="Прямая ссылка на Публичные сервисы" title="Прямая ссылка на Публичные сервисы">​</a></h3>
<p>На рынке сейчас есть передовые услуги не только с возможностью хранения всей информации, но и с синхронизацией устройств, приглашением других участников и тп.</p>
<ul>
<li>
<p><a href="http://www.google.com/calendar/render?tab=wc" target=_blank rel="noopener noreferrer">google calender</a></p>
</li>
<li>
<p><a href=http://www.kiko.com/ target=_blank rel="noopener noreferrer">kiko</a> удобен drag-and-drop способностью<a href=http://www.kiko.com/ target=_blank rel="noopener noreferrer"><br>
</a></p>
</li>
<li>
<p><a href=http://calendar.yahoo.com/ target=_blank rel="noopener noreferrer">yahoo calender</a></p>
</li>
<li>
<p><a href=http://www.calendarhub.com/calendar/20768/month target=_blank rel="noopener noreferrer">CalendarHub</a> имеет много настроек</p>
</li>
<li>
<p><a href=http://www.30boxes.com/ target=_blank rel="noopener noreferrer">30 коробок</a></p>
</li>
<li>
<p><a href=http://demo.planzo.com/ target=_blank rel="noopener noreferrer">planzo</a>, перетаскиваемый</p>
</li>
<li>
<p><a href=http://spongecell.com/calendar/view target=_blank rel="noopener noreferrer">spongecell</a> перетаскиваемый</p>
</li>
<li>
<p><a href=http://hipcal.com/ target=_blank rel="noopener noreferrer">hipcal</a> статичный с приоритетами</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_CPg9" id=opensource-продукты>Opensource-продукты<a href=#opensource-продукты class=hash-link aria-label="Прямая ссылка на Opensource-продукты" title="Прямая ссылка на Opensource-продукты">​</a></h3>
<p>Когда дело касается своего сайта, то выбор значительно уже:</p>
<ul>
<li>
<p><a href=http://www.planscalendar.com/ target=_blank rel="noopener noreferrer">PlansCalendar</a> на php/mysql, без ajax и видов по дням/неделям</p>
</li>
<li>
<p><a href=http://phpicalendar.net/phpicalendar/day.php target=_blank rel="noopener noreferrer">phpiCalendar</a> внешне обманчив - работает на файловой системе с .ics файлами</p>
</li>
<li>
<p><a href=http://monket.net/wiki/monket-calendar/ target=_blank rel="noopener noreferrer">monket</a> хоть и на ajax, но скуден</p>
</li>
<li>
<p><a href=http://www.extrosoft.com/Demos/ target=_blank rel="noopener noreferrer">thyme</a> платен и по сути чуть лучше чем PlansCalendar</p>
</li>
<li>
<p>jquery <a href=http://arshaw.com/fullcalendar/ target=_blank rel="noopener noreferrer">fullcalendar</a> - оболочка без серверной части</p>
</li>
<li>
<p>jquery <a href=http://www.web-delicious.com/jquery-plugins-demo/wdCalendar/sample.php target=_blank rel="noopener noreferrer">wdcalendar</a></p>
</li>
<li>
<p><a href=http://www.feyasoft.com/myCalendar target=_blank rel="noopener noreferrer">myCalendar</a></p>
</li>
</ul>
<p>В итоге имеем проблему в том что публичные сервисы внешне функциональны, но не изменяемы и их невозможно связать со своей системой пользователей, системами планирования, базами клиентов и тп. В то же время доступные проекты с открытым исходным кодом откровенно не дотягивают ни по архитектуре ни по способам использования.</p>
<p>На будущее разработчикам - на забудьте что календарь должен быть интегрируем, экспортируем в outlook, <a href=http://en.wikipedia.org/wiki/ICalendar target=_blank rel="noopener noreferrer">ical микроформат</a> , удобен и расширяем.</div><footer class="row docusaurus-mt-lg"><div class=col><b>Теги:</b><ul class="tags_BNPU padding--none margin-left--sm"><li class=tag_wFKI><a class="tag_mxxo tagRegular_OVld" href=/blog/tags/php>php</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_Y5lg><a href="/blog/tech/backend/php/Сортировка матрицы">Сортировка матрицы</a></h2><div class="container__LhH margin-vert--md"><time datetime=2007-04-20T10:00:00.000Z>20 апреля 2007 г.</time> · <!-- -->1 мин. чтения</div></header><div class=markdown><p>Сортировку можно производить на стороне сервера в БД (самое логичное решение), но зачастую система не продумана заранее настолько и получается что данные приходится выдирать из разных таблиц, между которыми нет очевидных связей. Поэтому сортировать приходится через серверные технологии или даже через javascript на стороне клиента..</p>
<p>Средствами PHP насколько мне известно пока невозможно нормально отсортировать - функции <strong>uksort</strong> и <strong>ksort</strong> сортируют по ключам массива, но просто вписать данные столбца в качестве ключа нельзя если могут появится одинаковые ключи.</p>
<p>Небольшая функция на будущее.</p>
<div class="language-php codeBlockContainer__iiz theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_HaV9><pre tabindex=0 class="prism-code language-php codeBlock_ZL1J thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_qXKr><span class=token-line style=color:#393A34><span class="token plain">  /**</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   * Sorts matrix by column</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   *</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   * @param array $arrMatrix</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   * @param mixed $col</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   * @param boolean $direction</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   * @return array</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   */</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  function sort_matrix($arrMatrix,$col=0,$direction=1){</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    $result=array();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    foreach($arrMatrix as $var => $val){</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      $set=false;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      foreach($result as $var2 => $val2){</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        if($set==false){</span><br></span><span class=token-line style=color:#393A34><span class="token plain">          if($val[$col]>$val2[$col] && $direction || $val[$col]&lt;$val2[$col] && !$direction){</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            $temp=array();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            foreach($result as $var3 => $val3){</span><br></span><span class=token-line style=color:#393A34><span class="token plain">              if($var3==$var2) $set=true;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">              if($set){</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                $temp[$var3]=$val3;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">                unset($result[$var3]);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">              }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            $result[$var]=$val;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            foreach($temp as $var3 => $val3)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">              $result[$var3]=$val3;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">          }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      if(!$set) $result[$var]=$val;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    return $result;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  }</span><br></span></code></pre><div class=buttonGroup_Stij><button type=button aria-label="Скопировать в буфер обмена" title=Скопировать class=clean-btn><span class=copyButtonIcons_kDb_ aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_avy6><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_La4Y><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class=col><b>Теги:</b><ul class="tags_BNPU padding--none margin-left--sm"><li class=tag_wFKI><a class="tag_mxxo tagRegular_OVld" href=/blog/tags/php>php</a></ul></div></footer></article><article class=margin-bottom--xl><header><h2 class=title_Y5lg><a href="/blog/tech/backend/php/Сохраняющаяся сортировка">Сохраняющаяся сортировка</a></h2><div class="container__LhH margin-vert--md"><time datetime=2007-04-19T10:00:00.000Z>19 апреля 2007 г.</time> · <!-- -->1 мин. чтения</div></header><div class=markdown><p>Допустим у нас есть много отображаемых табличных данных, столбцы которых можно отсортировать. Тогда было бы удобно что-бы при повторном заходе на страницу оставались сохранёнными параметры сортировки - какая колонка как отсортирована.</p>
<p>Представляю небольшой вариант такого решения..</p>
<p><code>$_SESSION['Sorting'][get_class($this)]= array_merge( $_SESSION['Sorting'][get_class($this)], $_REQUEST);</code></p>
<p>В сессии кэшируются все параметры некогда используемые, причём новые параметры перезаписывают более старые. С такой техникой можно делать много параметровую сортировку ( ORDER BY param1, param2, param3..) причём передавать через GET только по одному параметру, т.е. не надо делать</p>
<p><code>?sort[]=param1&sort[]=param2</code></div><footer class="row docusaurus-mt-lg"><div class=col><b>Теги:</b><ul class="tags_BNPU padding--none margin-left--sm"><li class=tag_wFKI><a class="tag_mxxo tagRegular_OVld" href=/blog/tags/php>php</a></ul></div></footer></article><nav class=pagination-nav aria-label="Навигация по странице списка блогов"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Media</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://twitter.com/tot_ra target=_blank rel="noopener noreferrer" class=footer__link-item>Short news on Twitter<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.youtube.com/user/artkurapov/ target=_blank rel="noopener noreferrer" class=footer__link-item>Long videos on Youtube<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.twitch.tv/tot_ra/ target=_blank rel="noopener noreferrer" class=footer__link-item>Streams on Twitch<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.instagram.com/tot_ra/ target=_blank rel="noopener noreferrer" class=footer__link-item>Nature on Instagram<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.tiktok.com/@artkurapov target=_blank rel="noopener noreferrer" class=footer__link-item>Short videos on TikTok<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>Business</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.linkedin.com/in/kurapov/ target=_blank rel="noopener noreferrer" class=footer__link-item>LinkedIn<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://github.com/tot-ra target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href="https://stackoverflow.com/users/158448/artjom-kurapov?tab=profile" target=_blank rel="noopener noreferrer" class=footer__link-item>Stack Overflow<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.slideshare.net/totra/presentations target=_blank rel="noopener noreferrer" class=footer__link-item>Slideshare<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://habr.com/ru/users/tot_ra/posts/ target=_blank rel="noopener noreferrer" class=footer__link-item>Habr<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.facebook.com/artkurapov target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://vk.com/artkurapov target=_blank rel="noopener noreferrer" class=footer__link-item>ВКонтакте<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.reddit.com/user/tot_ra/ target=_blank rel="noopener noreferrer" class=footer__link-item>Reddit<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://tot-ra.livejournal.com/ target=_blank rel="noopener noreferrer" class=footer__link-item>LiveJournal<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>Media</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://suno.com/@tot_ra target=_blank rel="noopener noreferrer" class=footer__link-item>Music on Suno<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://goodreads.com/tot_ra target=_blank rel="noopener noreferrer" class=footer__link-item>Books on Goodreads<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://steamcommunity.com/id/tot_ra/ target=_blank rel="noopener noreferrer" class=footer__link-item>Games on Steam<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://open.spotify.com/user/1176479585 target=_blank rel="noopener noreferrer" class=footer__link-item>Music on Spotify<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://soundcloud.com/tot_ra target=_blank rel="noopener noreferrer" class=footer__link-item>Music on Soundcloud<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.thingiverse.com/tot_ra/designs target=_blank rel="noopener noreferrer" class=footer__link-item>3D models on Thingiverse<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_gbbH><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025</div></div></div></footer></div>